<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Icons>
  <Icon size="256" bpp="32" format="png"><![CDATA[89504e470d0a1a0a0000000d49484452000001000000010008060000005c72a866000000097048597300000ec400000ec401952b0e1b0000067949444154789ceddddb7aa24a1485d1b2bf7eff5776df6cd39a44e454b08a39c66d27a2b4ebe710c4dbfd7e6f40a63f673f01e03c0200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c1040082090004130008260010ecefd10bbcdd6ef7a97fbfdfefb7a39e0ba4bbddef93f3b8df823e0cfe27c200fbeb1a80ad433f8730c07a5d023063377fea77372f5f14609edd02b065e8673efea6dfffff3908033cd91c80de83ff61d9bb3c8e30906a5500ce1cfa398401e6591480ea83ff89c30878352b0053835f7de83f110592bd0dc0e85bfbade684c1e033ba1f57025e796b3fd7a7e137f85cc5dfd66ced1f0c3e696eadb55fa73b65e85b33f8e47a1b8087ab86c0d0c38c003cbb420c0c3efcf3e3af004b3ec03352100c3efc34791dc0156230fae07ff8ab4ce9e74e7dbb5e09f850210653835f7d70b67c8cbafa6ba396d51f06aab87770e5adfd5ad55f33e73aece3c00f9dee3ff06999658760ce7a9bb85a73d5322baf0f8e75ca0d411e7adf23a0f21bbdd7c557a2c012ddef09d8e35061d4c1dfb2b5dfb0cc55bf57751db2afc36e0afab5c00d7b07a39ed8ab76a9b528f07078005e16bec349afaa6fca33b6f66b6df94874d5f5cf3ca706e0bb85870b25df78d5b6f66bd94bc8502a00cfde0d52c537d8485bfb2d44e17aca06600457d9daafe5d0617c02b050fad07f622f612c023093c15f47106a13800986be8f51afe3b8a2c3bf1d780406bf9f51afe5b82a01f89fa1efcbe0d7141f0083df97c1af2df21cc0d22b1013d7d156067f0c9101f8aee2bd0d4665f0c72200bf18e9ce47558c3af8b7dbed5ef9f9f526001fd83b9836eae0b736d6e5e6bd08c00262f0cf1507ff9deaaf670b01d820f1502169f0dfa9fe3a9710809d5c3d06230f7e6bcbbef476c9e5cb23bcf62902d0c1950e1592067fe231662f6f8475f24c000e30e2de81c17ffbb88b7ebefaba128083558fc1e883df5abfe17fb3acd93f5b71fd09c0892ac5c0e0eff61c66ff6c85f52a00459c75dec0e0f733c2e1820014d57befe00a83df5adde1ff4dc52008c000f68c81c1afa3c2e182000c666d0c0c7e6d67ed1d08c0e092be4afcaac3ff9ba382200017b260efc0e00fa6d7e182005cd46f4363f0af61cfbd0301a024c33fdf96200800a518fced9604410028c1e0f7f1290602c0e90cff71be0721feb6e09cc7e01fe7dd9e80007038837facdf86ff712250003894e13fcebbadfef35f0104804318fc634d6df59f09005d19fc63cdd9ea3f1300ba31fcc79abbd57f2600eccee01f6fcdf0b7e63a0076e44b578fb776f0bf7edf7f02bd5ce9f6e8156d1dfed604800355ba09eac8969ee89b7c2c2b9b3388c13a7b6cf55f1ecf0ae66c0e153edb73abfff2b8a92b949ac4e0a7bdb7fa2f8f9db212198f18f41dfed6048081249d37e83df85fcbb9c2ca22cf956370d4f0b726005cc0550e158e1cfcaf65565e21b0d4a8313863f85b13002e6c8418f4faf3deece50b0029aa9d37386babfff21c04804467c7a0c2f0b7260070e8a14295c17f100078d23306d586bf350180b7f68a41c5c17f10009869cd7983cac3df9a00c02a4bef7ed45aadc17f1000d8684e0c2a0e7f6b0200bbfa1e83aa83ff200010eccfd94f00388f0040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c10400820900041300082600104c0020980040300180600200c1040082fd07ff2c8630ba86fd840000000049454e44ae426082]]>
</Icon>
 </Icons>
 <Model version="4.1">
  <Sidops><![CDATA[model 0 0
 description '<Description>
   <LibraryPath>D:\projects\Destecs\svn\chessforge\trunk\WP3\co-sim_models\destecs_projects\BodercPaperPath\model_ct\Paper Path Setup.emx</LibraryPath>
  <TimeStamp>2011-12-5 16:30:48</TimeStamp>
  <Version>4.1</Version>
<IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
 type 'Mainmodel-21'
 end;
 icon bg
  figures
   group
    line -24.4 -3.2 -8.4 -9.6 13.1 -4.8 -2.9 3.2 -24.4 -3.2 fill 16777215;
    line 9.4 8 25.6 -1.6 50 4.8 34.4 16 9.4 8 fill 16777215;
    line -50 -11.2 -38.1 -16 -20.6 -12.8 -34.4 -6.4 -50 -11.2 fill 16777215;
   end;
 end;
 implementation bg
  submodels
   BoolToReal 672 304
    description '<Description>
 <Version>No Version Info</Version>
 <IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Sample
     ports
      signal boolean in input [4,1];
      signal out output [4,1];
    end;
    icon bg bottom
     figures
      rectangle 640 285 704 325 fill 15132390;
      text 'false -> 0.0
true -> 1.0' 672 301 'Arial Narrow' 15;
    end;
    implementation eq
equations
	output[1] = if input[1] then 1.0 else 0.0 end;
	output[2] = if input[2] then 1.0 else 0.0 end;
	output[3] = if input[3] then 1.0 else 0.0 end;
	output[4] = if input[4] then 1.0 else 0.0 end;


      implementation_end;
   Control 216 192
			specifications active 'cosim'
				specification 'default'
 type 'Control-Graphical'
  ports
   signal in PaperDetectors [4,1];
   signal out PWM [4,1];
   signal in ENC [4,1];
   signal out FeedSheet;
   signal out PWM_PIM;
   signal in ENC_PIM;
   signal in JobStart;
   signal in paperPresent;
 end;
 icon bg
  figures
   rectangle 186 170 246 214 fill 14013909;
   text 'name' 216 192;
 end;
 implementation bg
  submodels
   BooleanSignalSplitter 863.7 216
    type 'Submodel-Equation'
     ports
      signal out s1;
      signal in S [4,1];
      signal out s2;
      signal out s3;
      signal out s4;
    end;
    icon bg
     figures
      line 863.9 200 863.4 232 color 16711680;
     terminals
      s1 855.9 200 fixed;
      S 871.9 216 fixed;
      s2 855.9 208 fixed;
      s3 855.9 224 fixed;
      s4 855.9 232 fixed;
    end;
    implementation eq
equations
  // start typing here
  S = [s1;s2;s3;s4];
 implementation_end;
   Delay1 344 120
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 104 376 136 fill 15132390;
      text 'CAN Delay' 344 120 color 16711680 14 bold;
     terminals
      input 312 120 fixed;
      output 376 120 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay10 344 352
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 336 376 368 fill 15132390;
      text 'CAN Delay' 344 352 color 16711680 14 bold;
     terminals
      input 312 352 fixed;
      output 376 352 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay11 344 320
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 304 376 336 fill 15132390;
      text 'CAN Delay' 344 320 color 16711680 14 bold;
     terminals
      input 312 320 fixed;
      output 376 320 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay12 344 88
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 72 376 104 fill 15132390;
      text 'CAN Delay' 344 88 color 16711680 14 bold;
     terminals
      input 376 88 fixed;
      output 312 88 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay13 344 488
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 472 376 504 fill 15132390;
      text 'CAN Delay' 344 488 color 16711680 14 bold;
     terminals
      input 312 488 fixed;
      output 376 488 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay14 344 56
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 40 376 72 fill 15132390;
      text 'CAN Delay' 344 56 color 16711680 14 bold;
     terminals
      input 376 56 fixed;
      output 312 56 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay2 344 152
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 136 376 168 fill 15132390;
      text 'CAN Delay' 344 152 color 16711680 14 bold;
     terminals
      input 376 152 fixed;
      output 312 152 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay3 344 192
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 176 376 208 fill 15132390;
      text 'CAN Delay' 344 192 color 16711680 14 bold;
     terminals
      input 312 192 fixed;
      output 376 192 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay5 344 224
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 208 376 240 fill 15132390;
      text 'CAN Delay' 344 224 color 16711680 14 bold;
     terminals
      input 376 224 fixed;
      output 312 224 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay6 344 384
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 368 376 400 fill 15132390;
      text 'CAN Delay' 344 384 color 16711680 14 bold;
     terminals
      input 312 384 fixed;
      output 376 384 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay7 344 416
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 400 376 432 fill 15132390;
      text 'CAN Delay' 344 416 color 16711680 14 bold;
     terminals
      input 376 416 fixed;
      output 312 416 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay8 344 456
    type Delay
     ports
      signal in input;
      signal out output;
    end;
    icon bg
     figures
      rectangle 312 440 376 472 fill 15132390;
      text 'CAN Delay' 344 456 color 16711680 14 bold;
     terminals
      input 376 456 fixed;
      output 312 456 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;

equations
	output = if CAN_delay then previous (input) else input end;
   implementation_end;
   Delay9 343.7 272
    type Delay
     ports
      signal in input [7,1];
      signal out output [7,1];
    end;
    icon bg
     figures
      rectangle 311.7 256 375.7 288 fill 15132390;
      text 'CAN Delay' 343.7 272 color 16711680 14 bold;
     terminals
      input 311.7 272 fixed;
      output 375.7 272 fixed;
    end;
    implementation eq
parameters
	boolean global CAN_delay;
	real init[7] = [0.25833333333333;20.0;50.0;0.1;20.0;0.21;0.2];

//initialequations
//	init = input;

equations
	output = previous(input,init);
	//output= input;
   implementation_end;
   plug PaperDetectors 976 216;
   plug ENC 960 336;
   plug FeedSheet 696 80;
   plug PWM_PIM 936 88;
   plug ENC_PIM 936 120;
   plug paperPresent 936 48;
   plug PWM 960 272;
   plug JobStart 40 272;
   Node_1 696 168
    type Submodel
     ports
      signal in ENC_PIM;
      signal out PD_PIM_OUT;
      signal in ENC1;
      signal out PWM_PIM;
      signal out PWM1;
      signal in PIMSTART;
      signal in PD_PIM_IN;
      signal in CAN_parameters [7,1];
      signal out EnterSheet;
      signal out JOBDONE;
      signal in paperPresent;
      signal out paperPresent_out;
    end;
    implementation bg
     submodels
      LoopController1 624 177.7
       type LoopController
        ports
         signal in Reference;
         signal out PWM;
         signal in ENC;
       end;
       icon bg
        figures
         rectangle 552 139.5 696 215.9 fill 12895428;
         rectangle 615.5 143.4 664 187.5 fill 15132390;
         text 'CTRL' 640 167.4 color 16711680 18 bold;
         line 662.9 166.9 694.9 166.9 color 16711680 end;
         ellipse 576 159.9 592 175.9 color 16711680;
         line 590.9 167.4 616 167.9 color 16711680 end;
         line 576 167.9 552 167.9 color 16711680 start;
         text '+' 568 159.9 16;
         text '-' 576 175.9 16;
         line 696 199.9 584 199.9 584 175.9 color 16711680 end;
        terminals
         Reference 552 167.9 fixed;
         PWM 696 167.9 fixed;
         ENC 696 199.9 fixed;
       end;
       implementation bg
        submodels
         plug Reference 64 56;
         plug PWM 432 72;
         plug ENC 432 152;
         PID5 248 72
          type Controller
           ports
            signal in SP;
            signal in MV;
            signal out output;
           parameters
            real K = 4.0;
            real Td = 0.00268;
            real N = 10.0;
            real Ti = 0.01073;
          end;
          icon bg
           figures
            rectangle 216 40 280 104 fill 15132390;
            text 'PID' 260.3 71 color 1336868 18 bold;
            text 'SP' 228.8 54.9 color 1336868 14;
            text 'MV' 230.9 85.9 color 1336868 14;
            text 'p' 273.6 92.3 14;
           terminals
            SP 216 56 fixed;
            MV 216 88 fixed;
            output 280 72 fixed;
          end;
          implementation eq
// Created by C. Kleijn, 22 Sep 1999
variables
	real error;
	real hidden factor,uP,uI,uD;
equations
	error = SP - MV;
	factor = Td / ( sampletime + Td / N );
	uP = K * ( error );
	uI = previous(uI) + K * sampletime * error / Ti;
	uD = factor * ( previous ( uD ) / N + K * ( error - previous ( error )) );
	output = uP + uI + uD;
                                                       implementation_end;
         Pulse2Rev 288 152
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 5.0e-4;
          end;
          icon bg bottom
           figures
            rectangle 272.1 136 303.9 168 fill 15132390;
            text 'K' 288 152 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         SignalLimiter5 344 72
          type SignalLimiter
           ports
            signal in input;
            signal out output;
           parameters
            real minimum = -0.999;
            real maximum = 0.999;
          end;
          icon bg
           figures
            group
             rectangle 328 56 360 88 fill 15132390;
             line 343.9 60.5 343.9 85 fill 15132390;
             line 331 72.2 356.7 72.2 fill 15132390;
             spline 337.9 79.1 349.9 65.4 color 16711680 fill 15132390 width 2;
             spline 349.3 66.2 357.9 65.8 color 16711680 fill 15132390 width 2;
             spline 331 79.6 337.9 79.1 color 16711680 fill 15132390 width 2;
            end;
          end;
          implementation eq
equations
	output = limit (input, minimum, maximum);
  implementation_end;
        end;
        connections
         PID5\output -> SignalLimiter5\input;
         SignalLimiter5\output -> PWM;
         Reference -> PID5\SP;
         ENC -> Pulse2Rev\input;
         Pulse2Rev\output -> PID5\MV 160 152 160 88;
        end;
       implementation_end;
      LoopControllerPIM 624 89.7
       type LoopController
        ports
         signal in Reference;
         signal out PWM;
         signal in ENC;
       end;
       icon bg
        figures
         rectangle 552 51.5 696 127.9 fill 12895428;
         rectangle 615.5 55.4 664 99.5 fill 15132390;
         text 'CTRL' 640 79.4 color 16711680 18 bold;
         line 662.9 78.9 694.9 78.9 color 16711680 end;
         ellipse 576 71.9 592 87.9 color 16711680;
         line 590.9 79.4 616 79.9 color 16711680 end;
         line 576 79.9 552 79.9 color 16711680 start;
         text '+' 568 71.9 16;
         text '-' 576 87.9 16;
         line 696 111.9 584 111.9 584 87.9 color 16711680 end;
        terminals
         Reference 552 79.9 fixed;
         PWM 696 79.9 fixed;
         ENC 696 111.9 fixed;
       end;
       implementation bg
        submodels
         plug Reference 64 56;
         plug PWM 432 72;
         plug ENC 432 152;
         PID5 248 72
          type Controller
           ports
            signal in SP;
            signal in MV;
            signal out output;
           parameters
            real K = 4.0;
            real Td = 0.00268;
            real N = 10.0;
            real Ti = 0.01073;
          end;
          icon bg
           figures
            rectangle 216 40 280 104 fill 15132390;
            text 'PID' 260.3 71 color 1336868 18 bold;
            text 'SP' 228.8 54.9 color 1336868 14;
            text 'MV' 230.9 85.9 color 1336868 14;
            text 'p' 273.6 92.3 14;
           terminals
            SP 216 56 fixed;
            MV 216 88 fixed;
            output 280 72 fixed;
          end;
          implementation eq
// Created by C. Kleijn, 22 Sep 1999
variables
	real error;
	real hidden factor,uP,uI,uD;
equations
	error = SP - MV;
	factor = Td / ( sampletime + Td / N );
	uP = K * ( error );
	uI = previous(uI) + K * sampletime * error / Ti;
	uD = factor * ( previous ( uD ) / N + K * ( error - previous ( error )) );
	output = uP + uI + uD;
                                                       implementation_end;
         Pulse2Rev 288 152
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 5.0e-4;
          end;
          icon bg bottom
           figures
            rectangle 272.1 136 303.9 168 fill 15132390;
            text 'K' 288 152 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         SignalLimiter5 344 72
          type SignalLimiter
           ports
            signal in input;
            signal out output;
           parameters
            real minimum = -0.999;
            real maximum = 0.999;
          end;
          icon bg
           figures
            group
             rectangle 328 56 360 88 fill 15132390;
             line 343.9 60.5 343.9 85 fill 15132390;
             line 331 72.2 356.7 72.2 fill 15132390;
             spline 337.9 79.1 349.9 65.4 color 16711680 fill 15132390 width 2;
             spline 349.3 66.2 357.9 65.8 color 16711680 fill 15132390 width 2;
             spline 331 79.6 337.9 79.1 color 16711680 fill 15132390 width 2;
            end;
          end;
          implementation eq
equations
	output = limit (input, minimum, maximum);
  implementation_end;
        end;
        connections
         PID5\output -> SignalLimiter5\input;
         SignalLimiter5\output -> PWM;
         Reference -> PID5\SP;
         ENC -> Pulse2Rev\input;
         Pulse2Rev\output -> PID5\MV 160 152 160 88;
        end;
       implementation_end;
      plug ENC1 904 200;
      plug PWM_PIM 915.7 80;
      plug PWM1 904 168;
      plug PIMSTART 232 112;
      plug PD_PIM_OUT 280 264;
      plug CAN_parameters 224 152;
      plug EnterSheet 464 8;
      plug JOBDONE 232 72;
      plug paperPresent 904 304;
      plug paperPresent_out 272 304;
      plug PD_PIM_IN 904 264;
      plug ENC_PIM 912 112;
      SequenceController1 464 128
       type 'Submodel-Equation'
        ports
         signal in CAN_parameters [7,1];
         signal out Ref_pinch1;
         signal out Ref_PIM;
         signal in PIMSTART;
         signal out EnterSheet;
         signal out JOBDONE;
         signal in paperPresent;
       end;
       icon bg
        figures
         rectangle 424.5 104.5 503.5 151.5 fill 12895428;
         text 'name' 464 128 16;
        terminals
         paperPresent 480 152 fixed;
       end;
       implementation eq
// Enter N sheets as soon as the PIMSTART signal becomes high
// Do this with a time interval isd / v_fuse
parameters
	real rot2trans;

variables
	real v_fuse{m/s};	
	real isd{m};
	real SheetWidth{m};
	integer N; integer n;
	real JobStartTime{s};
	real SheetStartTime{s};
	real v_max{m/s};
	real dT{s};
	//boolean EnterSheet;
	real PimOnTimeA{s};
	real PimOnTimeB{s};
	//real Pinch1OnTime{s};
	real Ref_PIM_v{m/s};
	real Ref_pinch1_v{m/s};
	boolean PIMSTART_high; boolean EnterSheet_high;
//	real global rot2trans;
	real temp;

initialequations
	n = -1;
	EnterSheet = 0;
	SheetStartTime = 0;
	JobStartTime = 0;
	PIMSTART_high = false;
	EnterSheet_high = false;
	JOBDONE = 0;
	rot2trans = (18.0/37.0) * 0.0139 * 2 * pi;

equations
	//CAN_parameters = [v_fuse, a_max, ppm, isd, N, SheetWidth, AlignTime];
	v_fuse = CAN_parameters[1];
	isd = CAN_parameters[4];
	N = round(CAN_parameters[5]);
	SheetWidth = CAN_parameters[6];
	v_max = 2;//CAN_parameters[1];
	dT = (SheetWidth + isd) / v_fuse; 	

	PimOnTimeA = 0.02 / v_max; // Let the PIM pinch move the sheet 5 cm
	PimOnTimeB = 0.15 / v_fuse; // Let the PIM pinch move the sheet 20 cm
	//Pinch1OnTime = 0.29 / v_fuse; // Make sure pnch1 is on until the sheet has reached PD_PIM

	// Check the rising edge of PIMSTART, if it occurs, set the JobStartTime to current time
	if PIMSTART > 0.5 then
		if not(PIMSTART_high) then
			PIMSTART_high = true;
			JobStartTime = time;
			//JOBDONE = 0;
			EnterSheet_high = false;
			n = 0;
		end;
	else
		PIMSTART_high = false;
	end;

	// Check if the JobStartTime > 0
	// If so, enter a sheet every dT seconds with dT = (SheetWidth + isd) / v_fuse start at the JobStartTime
	//	- 	Also set the SheetStartTime to the current time
	//	-	n = n + 1
	// 	-	Check if n <= N
	if n >= 0 and n <= N  and paperPresent > 0.5 then // n < 0 means that the PIMSTART signal has not been set high jet
		temp = (time - JobStartTime) mod (dT);
		EnterSheet = if temp < 0.01 and time > JobStartTime then 1 else 0 end;
		if EnterSheet > 0.5 then 
			if not(EnterSheet_high) then
				EnterSheet_high = true;
				SheetStartTime = time;
				n = n + 1;
			end;
		else
			EnterSheet_high = false;
		end;
	else
	/*	if n > N then 
			JOBDONE = 1;
		end;*/
		//SheetStartTime = 0;
		EnterSheet = 0;
	end;

	// When the SheetStartTime > 0 do the following
	// 	-	As long as the current time is smaller than the SheetStartTime plus the PimOnTime set the PimRef_v = -4 * v_fuse
	// 	-	Keep Pinch1Ref_v = v_fuse always
	if SheetStartTime > 0 and n <= N then
		Ref_PIM_v = if time <= SheetStartTime + PimOnTimeA then 
			-4 * v_max
		else
			if time <= SheetStartTime + PimOnTimeB then 
				-4 * v_fuse
			else
				0
			end
		end;
		Ref_pinch1_v = v_fuse;
	else
		Ref_PIM_v = 0;
		Ref_pinch1_v = 0;
	end;

	// Compute the reference signal for the loopcontrollers as the integral of the velocity devided by rot2trans 
	next (Ref_PIM) = Ref_PIM + (Ref_PIM_v / rot2trans)*sampletime;

	next (Ref_pinch1) = Ref_pinch1 + (Ref_pinch1_v / rot2trans)*sampletime;
implementation_end;
      Splitter2 480 304
       knot Splitter
        ports
         signal knot duplicatable out output [1];
         signal knot in input [1];
       end;
       icon bg ellipse
        figures
         ellipse 476.8 300.8 483.2 307.2 color -1 fill 0;
         ellipse 475.7 299.7 484.3 308.3 color -1;
        terminals
         input 480 304 fixed;
         output 480 304 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
         implementation_end;
     end;
     connections
      ENC_PIM -> LoopControllerPIM\ENC;
      SequenceController1\Ref_PIM -> LoopControllerPIM\Reference;
      PIMSTART -> SequenceController1\PIMSTART;
      CAN_parameters -> SequenceController1\CAN_parameters;
      SequenceController1\EnterSheet -> EnterSheet;
      SequenceController1\JOBDONE -> JOBDONE;
      paperPresent -> Splitter2\input;
      Splitter2\output -> paperPresent_out;
      Splitter2\output -> SequenceController1\paperPresent;
      PD_PIM_IN -> PD_PIM_OUT;
      ENC1 -> LoopController1\ENC;
      LoopControllerPIM\PWM -> PWM_PIM;
      LoopController1\PWM -> PWM1;
      SequenceController1\Ref_pinch1 -> LoopController1\Reference;
     end;
     figures
      rectangle 400 31.5 703.5 312 fill 15132390;
      text 'Node' 680 40 16;
    implementation_end;
   Node_2 696 272
    type Submodel
     ports
      signal in PD_CORR_In;
      signal in PD_ALIGN_In;
      signal in ENC3;
      signal in ENC2;
      signal out PWM3;
      signal out PWM2;
      signal out PD_ALIGN_Out;
      signal in STOPFORALIGNMENT;
      signal in CorrectionTime;
      signal in v_corr;
      signal in STARTCORRECTION;
      signal out PD_CORR;
      signal in CAN_parameters [7,1];
    end;
    implementation bg
     submodels
      LoopController2 472 121.7
       type LoopController
        ports
         signal in Reference;
         signal out PWM;
         signal in ENC;
       end;
       icon bg
        figures
         rectangle 400 83.5 544 159.9 fill 12895428;
         rectangle 463.5 87.4 512 131.5 fill 15132390;
         text 'CTRL' 488 111.4 color 16711680 18 bold;
         line 510.9 110.9 542.9 110.9 color 16711680 end;
         ellipse 424 103.9 440 119.9 color 16711680;
         line 438.9 111.4 464 111.9 color 16711680 end;
         line 424 111.9 400 111.9 color 16711680 start;
         text '+' 416 103.9 16;
         text '-' 424 119.9 16;
         line 544 143.9 432 143.9 432 119.9 color 16711680 end;
        terminals
         Reference 400 111.9 fixed;
         PWM 544 111.9 fixed;
         ENC 544 143.9 fixed;
       end;
       implementation bg
        submodels
         plug Reference 64 56;
         plug PWM 432 72;
         plug ENC 432 152;
         PID5 248 72
          type Controller
           ports
            signal in SP;
            signal in MV;
            signal out output;
           parameters
            real K = 4.0;
            real Td = 0.00268;
            real N = 10.0;
            real Ti = 0.01073;
          end;
          icon bg
           figures
            rectangle 216 40 280 104 fill 15132390;
            text 'PID' 260.3 71 color 1336868 18 bold;
            text 'SP' 228.8 54.9 color 1336868 14;
            text 'MV' 230.9 85.9 color 1336868 14;
            text 'p' 273.6 92.3 14;
           terminals
            SP 216 56 fixed;
            MV 216 88 fixed;
            output 280 72 fixed;
          end;
          implementation eq
// Created by C. Kleijn, 22 Sep 1999
variables
	real error;
	real hidden factor,uP,uI,uD;
equations
	error = SP - MV;
	factor = Td / ( sampletime + Td / N );
	uP = K * ( error );
	uI = previous(uI) + K * sampletime * error / Ti;
	uD = factor * ( previous ( uD ) / N + K * ( error - previous ( error )) );
	output = uP + uI + uD;
                                                       implementation_end;
         Pulse2Rev 288 152
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 5.0e-4;
          end;
          icon bg bottom
           figures
            rectangle 272.1 136 303.9 168 fill 15132390;
            text 'K' 288 152 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         SignalLimiter5 344 72
          type SignalLimiter
           ports
            signal in input;
            signal out output;
           parameters
            real minimum = -0.999;
            real maximum = 0.999;
          end;
          icon bg
           figures
            group
             rectangle 328 56 360 88 fill 15132390;
             line 343.9 60.5 343.9 85 fill 15132390;
             line 331 72.2 356.7 72.2 fill 15132390;
             spline 337.9 79.1 349.9 65.4 color 16711680 fill 15132390 width 2;
             spline 349.3 66.2 357.9 65.8 color 16711680 fill 15132390 width 2;
             spline 331 79.6 337.9 79.1 color 16711680 fill 15132390 width 2;
            end;
          end;
          implementation eq
equations
	output = limit (input, minimum, maximum);
  implementation_end;
        end;
        connections
         PID5\output -> SignalLimiter5\input;
         SignalLimiter5\output -> PWM;
         Reference -> PID5\SP;
         ENC -> Pulse2Rev\input;
         Pulse2Rev\output -> PID5\MV 160 152 160 88;
        end;
       implementation_end;
      LoopController3 472 345.7
       type LoopController
        ports
         signal in Reference;
         signal out PWM;
         signal in ENC;
       end;
       icon bg
        figures
         rectangle 400 307.5 544 383.9 fill 12895428;
         rectangle 463.5 311.4 512 355.5 fill 15132390;
         text 'CTRL' 488 335.4 color 16711680 18 bold;
         line 510.9 334.9 542.9 334.9 color 16711680 end;
         ellipse 424 327.9 440 343.9 color 16711680;
         line 438.9 335.4 464 335.9 color 16711680 end;
         line 424 335.9 400 335.9 color 16711680 start;
         text '+' 416 327.9 16;
         text '-' 424 343.9 16;
         line 544 367.9 432 367.9 432 343.9 color 16711680 end;
        terminals
         Reference 400 335.9 fixed;
         PWM 544 335.9 fixed;
         ENC 544 367.9 fixed;
       end;
       implementation bg
        submodels
         plug Reference 64 56;
         plug PWM 432 72;
         plug ENC 432 152;
         PID5 248 72
          type Controller
           ports
            signal in SP;
            signal in MV;
            signal out output;
           parameters
            real K = 4.0;
            real Td = 0.00268;
            real N = 10.0;
            real Ti = 0.01073;
          end;
          icon bg
           figures
            rectangle 216 40 280 104 fill 15132390;
            text 'PID' 260.3 71 color 1336868 18 bold;
            text 'SP' 228.8 54.9 color 1336868 14;
            text 'MV' 230.9 85.9 color 1336868 14;
            text 'p' 273.6 92.3 14;
           terminals
            SP 216 56 fixed;
            MV 216 88 fixed;
            output 280 72 fixed;
          end;
          implementation eq
// Created by C. Kleijn, 22 Sep 1999
variables
	real error;
	real hidden factor,uP,uI,uD;
equations
	error = SP - MV;
	factor = Td / ( sampletime + Td / N );
	uP = K * ( error );
	uI = previous(uI) + K * sampletime * error / Ti;
	uD = factor * ( previous ( uD ) / N + K * ( error - previous ( error )) );
	output = uP + uI + uD;
                                                       implementation_end;
         Pulse2Rev 288 152
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 5.0e-4;
          end;
          icon bg bottom
           figures
            rectangle 272.1 136 303.9 168 fill 15132390;
            text 'K' 288 152 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         SignalLimiter5 344 72
          type SignalLimiter
           ports
            signal in input;
            signal out output;
           parameters
            real minimum = -0.999;
            real maximum = 0.999;
          end;
          icon bg
           figures
            group
             rectangle 328 56 360 88 fill 15132390;
             line 343.9 60.5 343.9 85 fill 15132390;
             line 331 72.2 356.7 72.2 fill 15132390;
             spline 337.9 79.1 349.9 65.4 color 16711680 fill 15132390 width 2;
             spline 349.3 66.2 357.9 65.8 color 16711680 fill 15132390 width 2;
             spline 331 79.6 337.9 79.1 color 16711680 fill 15132390 width 2;
            end;
          end;
          implementation eq
equations
	output = limit (input, minimum, maximum);
  implementation_end;
        end;
        connections
         PID5\output -> SignalLimiter5\input;
         SignalLimiter5\output -> PWM;
         Reference -> PID5\SP;
         ENC -> Pulse2Rev\input;
         Pulse2Rev\output -> PID5\MV 160 152 160 88;
        end;
       implementation_end;
      plug PD_ALIGN_In 768 192;
      plug ENC3 768 368;
      plug ENC2 768 144;
      plug PWM3 768 336;
      plug PWM2 768 112;
      plug STOPFORALIGNMENT 136 64;
      plug CorrectionTime 112 368;
      plug v_corr 136 384;
      plug STARTCORRECTION 88 408;
      plug PD_CORR 64 264;
      plug CAN_parameters 64 224;
      plug PD_ALIGN_Out 72 192;
      plug PD_CORR_In 768 264;
      SequenceController2 312 112
       type 'Submodel-Equation'
        ports
         signal in CAN_parameters [7,1];
         signal in STOPFORALIGNMENT;
         signal out Reference;
       end;
       implementation eq
parameters
	real rot2trans;

variables
	real v_fuse{m/s};
	real a_max{m/s2};
	real AlignTime{s};
	//real global rot2trans;
	boolean STOPFORALIGNMENT_high;
	real StartTime{s};
	real accelTime{s};
	real Reference_v{m/s};

initialequations
	STOPFORALIGNMENT_high = false;
	StartTime = 0;
	Reference_v = 0;
	rot2trans = (18.0/37.0) * 0.0139 * 2 * pi;

equations
	//CAN_parameters = [v_fuse, a_max, ppm, isd, N, SheetWidth, AlignTime];
	v_fuse = CAN_parameters[1];
	a_max = CAN_parameters[2];
	AlignTime =CAN_parameters[7];

	// When no special action is required, keep the pinch at v_fuse{m/s}
	// On rising edge of STOPFORALIGNMENT, start decelerating to 0 m/s
	// Then wait AlignTime{s} and start accelerating to v_fuse
	
	if STOPFORALIGNMENT > 0.5 then
		if not(STOPFORALIGNMENT_high) then
			STOPFORALIGNMENT_high = true;
			StartTime = time;
			accelTime = v_fuse / a_max;
		else
			// TODO: check if 0.0 is a valid value
			// else use previous-next
			accelTime = 0.0;
		end;
	else
		STOPFORALIGNMENT_high = false;
		// TODO: check if 0.0 is a valid value
		// else use previous-next
		accelTime = 0.0;
	end;
		
	// The profile:
	if time >= StartTime and time <= StartTime + AlignTime + accelTime and StartTime <> 0 then  // We are in the alignment profile
		if time <= StartTime + accelTime then // Decelerate
			Reference_v = v_fuse - a_max * (time - StartTime);
		else 
			if time <=StartTime + AlignTime then // Stand still
				Reference_v = 0;
			else // Accelerate
				Reference_v = a_max * (time - (StartTime + AlignTime));
			end;
		end;
	else
		Reference_v = v_fuse;
	end;

	next (Reference) = Reference + (Reference_v / rot2trans)*sampletime;
implementation_end;
      SequenceController3 312 336
       type Submodel
        ports
         signal in CAN_parameters [7,1];
         signal out Reference;
         signal in CorrectionTime;
         signal in v_corr;
         signal in STARTCORRECTION;
       end;
       icon bg
        figures
         rectangle 272.5 312.5 351.5 359.5 fill 12895428;
         text 'name' 312 336 16;
       end;
       implementation eq
parameters
	real rot2trans;

variables
	real v_fuse{m/s};
	real a_max{m/s2};
	//real global rot2trans;
	boolean STARTCORRECTION_high;
	real StartTime{s};
	real accelTime{s};
	real Reference_v{m/s};

initialequations
	STARTCORRECTION_high = false;
	StartTime = 0;
	Reference_v = 0;
	rot2trans = (18.0/37.0) * 0.0139 * 2 * pi;

equations
	//CAN_parameters = [v_fuse, a_max, ppm, isd, N, SheetWidth, AlignTime];
	v_fuse = CAN_parameters[1];
	a_max = CAN_parameters[2];

	// When no special action is required, keep the pinch at v_fuse{m/s}
	// On rising edge of STARTCORRECTION, start accelerating to v_corr{m/s}
	// Then wait AlignTime{s} at v_corr{m/s} and start decelerating to v_fuse
	
	if STARTCORRECTION > 0.5 then
		if not(STARTCORRECTION_high) then
			STARTCORRECTION_high = true;
			StartTime = time;
			accelTime = (v_corr - v_fuse) / a_max;
		end;
	else
		STARTCORRECTION_high = false;
	end;
		
	// The profile:
	if time >= StartTime and time <= CorrectionTime and StartTime <> 0 then  // We are in the alignment profile
		if time <= StartTime + accelTime then // Accelerate
			Reference_v = v_fuse + a_max * (time - StartTime);
		else 
			if time <= CorrectionTime - accelTime then // Maximum velocity
				Reference_v = v_corr;
			else // Decelerate
				Reference_v = v_corr - a_max * (time - (CorrectionTime - accelTime));
			end;
		end;
	else
		Reference_v = v_fuse;
	end;

	next (Reference) = Reference + (Reference_v / rot2trans)*sampletime;
implementation_end;
      Splitter1 208 224
       knot Splitter
        ports
         signal knot duplicatable out output [7,1];
         signal knot in input [7,1];
       end;
       icon bg ellipse
        figures
         ellipse 204.8 220.8 211.2 227.2 color -1 fill 0;
         ellipse 203.7 219.7 212.3 228.3 color -1;
        terminals
         input 208 224 fixed;
         output 208 224 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
         implementation_end;
      Submodel3 504 191.8
       type Submodel
        ports
         signal in input;
         signal out output;
       end;
       icon bg
        figures
         rectangle 464 175.6 544 207.9 fill 12895428;
         text 'Sensors' 504 191.9 16;
        terminals
         input 544 191.9 fixed;
         output 464 191.9 fixed;
       end;
       implementation bg
        submodels
         plug input 64 232;
         plug output 488 232;
        end;
        connections
         input -> output;
        end;
        figures
         text 'Graphical Submodel
Point your mouse into the Type area and enter the ports you need 
for this submodel. As an example a signal input port and a signal 
output port are shown. Then open the Library Browser (File menu) 
and drag and your models here. Then change to connection 
mode (second Toolbar button at the left, the one with the three 
arrows ) and start connecting the models. Do not forget to 
connect your ports!' 272 96 color 32768 15;
       implementation_end;
      Submodel4 504 263.8
       type Submodel
        ports
         signal in input;
         signal out output;
       end;
       icon bg
        figures
         rectangle 464 247.6 544 279.9 fill 12895428;
         text 'Sensors' 504 263.9 16;
        terminals
         input 544 263.9 fixed;
         output 464 263.9 fixed;
       end;
       implementation bg
        submodels
         plug input 64 232;
         plug output 488 232;
        end;
        connections
         input -> output;
        end;
        figures
         text 'Graphical Submodel
Point your mouse into the Type area and enter the ports you need 
for this submodel. As an example a signal input port and a signal 
output port are shown. Then open the Library Browser (File menu) 
and drag and your models here. Then change to connection 
mode (second Toolbar button at the left, the one with the three 
arrows ) and start connecting the models. Do not forget to 
connect your ports!' 272 96 color 32768 15;
       implementation_end;
     end;
     connections
      PD_CORR_In -> Submodel4\input;
      SequenceController2\Reference -> LoopController2\Reference;
      STOPFORALIGNMENT -> SequenceController2\STOPFORALIGNMENT;
      CAN_parameters -> Splitter1\input;
      CorrectionTime -> SequenceController3\CorrectionTime;
      v_corr -> SequenceController3\v_corr;
      STARTCORRECTION -> SequenceController3\STARTCORRECTION;
      Splitter1\output -> SequenceController2\CAN_parameters 208 112;
      Splitter1\output -> SequenceController3\CAN_parameters 208 336;
      PD_ALIGN_In -> Submodel3\input;
      ENC3 -> LoopController3\ENC;
      ENC2 -> LoopController2\ENC;
      LoopController3\PWM -> PWM3;
      LoopController2\PWM -> PWM2;
      SequenceController3\Reference -> LoopController3\Reference;
      Submodel3\output -> PD_ALIGN_Out;
      Submodel4\output -> PD_CORR;
     end;
     figures
      rectangle 247.5 55.5 551.5 391.5 fill 15132390;
      text 'Node' 528 72 16;
    implementation_end;
   Node_3 696 400
    type Submodel
     ports
      signal in PD_In;
      signal in ENC;
      signal out PWM;
      signal out PD_FUSE;
      signal in CAN_parameters [7,1];
      signal in THROWOUT;
    end;
    implementation bg
     submodels
      LoopController4 456 121.7
       type LoopController
        ports
         signal in Reference;
         signal out PWM;
         signal in ENC;
       end;
       icon bg
        figures
         rectangle 384 83.5 528 159.9 fill 12895428;
         rectangle 447.5 87.4 496 131.5 fill 15132390;
         text 'CTRL' 472 111.4 color 16711680 18 bold;
         line 494.9 110.9 526.9 110.9 color 16711680 end;
         ellipse 408 103.9 424 119.9 color 16711680;
         line 422.9 111.4 448 111.9 color 16711680 end;
         line 408 111.9 384 111.9 color 16711680 start;
         text '+' 400 103.9 16;
         text '-' 408 119.9 16;
         line 528 143.9 416 143.9 416 119.9 color 16711680 end;
        terminals
         Reference 384 111.9 fixed;
         PWM 528 111.9 fixed;
         ENC 528 143.9 fixed;
       end;
       implementation bg
        submodels
         plug Reference 64 56;
         plug PWM 432 72;
         plug ENC 432 152;
         PID5 248 72
          type Controller
           ports
            signal in SP;
            signal in MV;
            signal out output;
           parameters
            real K = 4.0;
            real Td = 0.00268;
            real N = 10.0;
            real Ti = 0.01073;
          end;
          icon bg
           figures
            rectangle 216 40 280 104 fill 15132390;
            text 'PID' 260.3 71 color 1336868 18 bold;
            text 'SP' 228.8 54.9 color 1336868 14;
            text 'MV' 230.9 85.9 color 1336868 14;
            text 'p' 273.6 92.3 14;
           terminals
            SP 216 56 fixed;
            MV 216 88 fixed;
            output 280 72 fixed;
          end;
          implementation eq
// Created by C. Kleijn, 22 Sep 1999
variables
	real error;
	real hidden factor,uP,uI,uD;
equations
	error = SP - MV;
	factor = Td / ( sampletime + Td / N );
	uP = K * ( error );
	uI = previous(uI) + K * sampletime * error / Ti;
	uD = factor * ( previous ( uD ) / N + K * ( error - previous ( error )) );
	output = uP + uI + uD;
                                                       implementation_end;
         Pulse2Rev 288 152
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 5.0e-4;
          end;
          icon bg bottom
           figures
            rectangle 272.1 136 303.9 168 fill 15132390;
            text 'K' 288 152 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         SignalLimiter5 344 72
          type SignalLimiter
           ports
            signal in input;
            signal out output;
           parameters
            real minimum = -0.999;
            real maximum = 0.999;
          end;
          icon bg
           figures
            group
             rectangle 328 56 360 88 fill 15132390;
             line 343.9 60.5 343.9 85 fill 15132390;
             line 331 72.2 356.7 72.2 fill 15132390;
             spline 337.9 79.1 349.9 65.4 color 16711680 fill 15132390 width 2;
             spline 349.3 66.2 357.9 65.8 color 16711680 fill 15132390 width 2;
             spline 331 79.6 337.9 79.1 color 16711680 fill 15132390 width 2;
            end;
          end;
          implementation eq
equations
	output = limit (input, minimum, maximum);
  implementation_end;
        end;
        connections
         PID5\output -> SignalLimiter5\input;
         SignalLimiter5\output -> PWM;
         Reference -> PID5\SP;
         ENC -> Pulse2Rev\input;
         Pulse2Rev\output -> PID5\MV 160 152 160 88;
        end;
       implementation_end;
      plug PD_In 728 200;
      plug ENC 728 144;
      plug PWM 728 112.9;
      plug PD_FUSE 96 200;
      plug CAN_parameters 72 112;
      plug THROWOUT 80 56;
      SequenceController4 296 112
       type 'Submodel-Equation'
        ports
         signal in CAN_parameters [7,1];
         signal out Reference;
         signal in THROWOUT;
       end;
       implementation eq
parameters
	real rot2trans;

variables
	real v_fuse{m/s};
	//real global rot2trans;
	real v_max{m/s};
	boolean THROWOUT_high;
	real v_ref;
	real profileStart{s};
	real a_max{m/s2};
	real dT{s}; // duration of the acceleration
	real dT_finish{s}; // time to wait before starting the throuwout profile
	
initialequations
	THROWOUT_high = false;
	profileStart = 0;
	rot2trans = (18.0/37.0) * 0.0139 * 2 * pi;

equations
	// Keep the fuse at v_fuse

	//CAN_parameters = [v_fuse, a_max, ppm, isd, N, SheetWidth, AlignTime];
	v_fuse = CAN_parameters[1];
	v_max = 2; // Add this to the CAN_parameters list
	a_max = CAN_parameters[2];
	dT = (v_max - v_fuse) / a_max;
	dT_finish = 0.10 / v_fuse;
		
	if THROWOUT > 0.5 then
		if not(THROWOUT_high) then // on rising edge start the thowout profile
			THROWOUT_high = true;	
			profileStart = time + dT_finish;
		end;
		v_ref = if time >= profileStart then
			if time <= profileStart + dT then // in acceleration part of profile
				v_fuse + a_max * (time - profileStart)
			else // if not in acceleration then set velocity to v_max
				v_max
			end
		else
			v_fuse
		end;
	else
		if THROWOUT_high then // on falling edge decelerate the pinch nicely
			profileStart = time;
		end;	
		v_ref = if profileStart > 0 and time <= profileStart + dT then // in acceleration part of profile
			v_max - a_max * (time - profileStart)
		else // if not in acceleration then set velocity to v_max
			v_fuse
		end;		
		THROWOUT_high = false;
	end;
	
	next (Reference) = Reference + (v_ref / rot2trans)*sampletime;implementation_end;
      Submodel5 488 199.8
       type Submodel
        ports
         signal in input;
         signal out output;
       end;
       icon bg
        figures
         rectangle 448 183.6 528 215.9 fill 12895428;
         text 'Sensors' 488 199.9 16;
        terminals
         input 528 199.9 fixed;
         output 448 199.9 fixed;
       end;
       implementation bg
        submodels
         plug input 64 232;
         plug output 488 232;
        end;
        connections
         input -> output;
        end;
        figures
         text 'Graphical Submodel
Point your mouse into the Type area and enter the ports you need 
for this submodel. As an example a signal input port and a signal 
output port are shown. Then open the Library Browser (File menu) 
and drag and your models here. Then change to connection 
mode (second Toolbar button at the left, the one with the three 
arrows ) and start connecting the models. Do not forget to 
connect your ports!' 272 96 color 32768 15;
       implementation_end;
     end;
     connections
      PD_In -> Submodel5\input;
      ENC -> LoopController4\ENC;
      LoopController4\PWM -> PWM;
      Submodel5\output -> PD_FUSE;
      SequenceController4\Reference -> LoopController4\Reference;
      CAN_parameters -> SequenceController4\CAN_parameters;
      THROWOUT -> SequenceController4\THROWOUT;
     end;
     figures
      rectangle 231.5 59.4 535.5 227.4 fill 15132390;
      text 'Node' 512 64 16;
    implementation_end;
   Splitter2 592 272
    knot Splitter
     ports
      signal knot duplicatable out output [7,1];
      signal knot in input [7,1];
    end;
    icon bg ellipse
     figures
      ellipse 588.8 268.8 595.2 275.2 color -1 fill 0;
      ellipse 587.7 267.7 596.3 276.3 color -1;
     terminals
      input 592 272 fixed;
      output 592 272 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
         implementation_end;
   Submodel6 863.5 335.5
    type 'Submodel-Equation'
     ports
      signal in input [4,1];
      signal out out1;
      signal out out2;
      signal out out3;
      signal out out4;
    end;
    icon bg
     figures
      rectangle 859.5 311.5 867.5 359.5 fill 0;
     terminals
      input 871.9 336 fixed;
      out1 855.9 320 fixed;
      out2 855.9 328 fixed;
      out3 855.9 344 fixed;
      out4 855.9 352 fixed;
    end;
    implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  input = [out1;out2;out3;out4];
 implementation_end;
   Submodel7 863.5 271.5
    type Submodel
     ports
      signal out output [4,1];
      signal in in1;
      signal in in2;
      signal in in3;
      signal in in4;
    end;
    icon bg
     figures
      rectangle 859.5 247.5 867.5 295.5 fill 0;
     terminals
      output 871.9 272 fixed;
      in1 855.9 256 fixed;
      in2 855.9 264 fixed;
      in3 855.9 280 fixed;
      in4 855.9 288 fixed;
    end;
    implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  output = [in1;in2;in3;in4];
 implementation_end;
   Supervisor 166.4 270.4
    type Supervisor
     ports
      signal in JobStart;
      signal out CAN_parameters [7,1];
      signal out PIMSTART;
      signal in PD_PIM;
      signal out STOPFORALIGNMENT;
      signal in PD_ALIGN;
      signal out STARTCORRECTION;
      signal out v_corr;
      signal in PD_CORR;
      signal in PD_FUSE;
      signal out CorrectionTime;
      signal in JOBDONE;
      signal out THROWOUT;
      signal in paperPresent;
    end;
    icon bg
     figures
      rectangle 118.4 238.4 214.4 302.4 fill 12895428;
      text 'name' 168 272 16;
     terminals
      JobStart 120 272 fixed;
      CAN_parameters 216 272 fixed;
      PIMSTART 158.9 238.9 fixed;
      PD_PIM 174.9 238.9 fixed;
      STOPFORALIGNMENT 191.5 239.5 fixed;
      PD_ALIGN 207.5 239.5 fixed;
      STARTCORRECTION 191.5 303.5 fixed;
      v_corr 175.5 303.5 fixed;
      PD_CORR 159.5 303.5 fixed;
      PD_FUSE 143.5 303.5 fixed;
      CorrectionTime 207.5 303.5 fixed;
      JOBDONE 142.9 238.9 fixed;
      THROWOUT 127.5 303.5 fixed;
      paperPresent 126.9 238.9 fixed;
    end;
    implementation eq
parameters
	// Job parameters
	real a_max = 20.0 {m/s2};
	//real v_max = 2.0 {m/s};
	real SheetWidth = 0.21 {m};

	// Variable job parameters
	//real par_v_fuse = {m/s};
	integer par_ppm = 50;
	real par_isd = 0.1 {m};
	integer par_N = 20; 
	real par_AlignTime = 0.2 {s};
	
	//real PinchPositionsC[4] = [-0.03;0.145;0.320;0.495];
	real DetectorPositionsC[4] = [0.012;0.186;0.361;0.537];

	integer PDfuse = 4;
	//integer PDcorr = 3;
	integer PDalign = 2;
	integer PDpim = 1;

	// Other parameters
	real t_damp = 0.1 {s};
	real rot2trans;
	boolean global CAN_delay = true; //set the delay blocks to do a delay or not

variables
	// Job "parameters"
	real v_fuse{m/s};
	integer ppm;
	real isd{m};
	integer N; // number of sheet in job
	real AlignTime{s};
	
	// Other variables
	real t_fuse[5]{s};
	real t_first{s}; // Time of the first sheet reaching PD_PIM
	real t_corr_exp{s};
	real dT_corr_exp{s};
	real dT_fuse_exp{s};
	real dT_corr{s};
	real dT_fuse{s};
	real dX_corr{m};
//	real v_corr_exp{m/s};
	real travelTime{s}; // the travel time for one sheet through the path
	integer n{none}; // The number of the current sheet
	integer m{none};
	real alignStart{s};
	integer currentSheet;
	real arrivalError;
	real PathLength{m};
	real sqrt_argument;
	//boolean allowNewJob;
	real t_corr{s};

	// Boolean used for checking the edge
	boolean JobStart_high; boolean PD_PIM_high; boolean PD_ALIGN_high; boolean PD_FUSE_high; boolean PD_CORR_high;
	
initialequations
	PathLength = DetectorPositionsC[PDfuse] - DetectorPositionsC[PDpim];
	N = par_N;
	ppm = par_ppm;
	isd = par_isd; 
	v_fuse = (ppm/60.0) * (SheetWidth + isd);
	AlignTime = par_AlignTime;
	travelTime = round(1000.0*(PathLength / v_fuse))/1000.0;	
	rot2trans = (18.0/37.0) * 0.0139 * 2 * pi;
	dX_corr = DetectorPositionsC[PDfuse] - DetectorPositionsC[PDalign] - SheetWidth;
	JobStart_high = true; // Default JobStart_high true so that the switch has to be flipped at least once
	PD_PIM_high = false; PD_ALIGN_high = false; PD_FUSE_high = false; PD_CORR_high = false;
	t_first = 0; n=0; t_fuse = 0; alignStart = 0; currentSheet = 1;
	//allowNewJob = true;
	THROWOUT = 0;
	PIMSTART = 0;
	
	CAN_parameters = [v_fuse; a_max; ppm; isd; N; SheetWidth; AlignTime];

code
/*	if JOBDONE > 0.5 then
		PIMSTART = 0;
		n=0;
		t_first = 0;
	end;*/

	if( time == 0 ) then
		// TODO, solve issues with previous-next functions.
		STOPFORALIGNMENT = 0;
	end;

	// When feedsheet switch is flipped, send PIMSTART
	if JobStart > 0.5 then
		if not(JobStart_high) then //and allowNewJob then
			PIMSTART = 1;
			//allowNewJob = false;
			JobStart_high = true;
		end;
	else
		if time > sampletime then  // Ensure the JobStart holds the actual measured value and not an initialisation value
			JobStart_high = false;
		end;
	end;

	// On first raise of PD_PIM in the job record t_first as the current time
	// On every raise of PD_PIM 
	// 		-	Compute t_fuse for the current sheet as t_fuse =t_first + travelTime + n/(ppm/60.0);
	//		-	Compute the estimated v_corr and check if it is 0 <= v_corr <= v_max
	//				if not, empty the path and stop the motors	
	if PD_PIM > 0.5 then
		if t_first == 0 then // This is the first raise of PD_PIM
			t_first = time;
		end;
		if not(PD_PIM_high) then // A new sheet has entered the path, compute t_fuse and v_corr
			PD_PIM_high = true;
			m = round(n mod 5) + 1;
			t_fuse[m] = t_first + travelTime + n/(ppm/60.0);
			// Estimate whether the sheet can arrive in time
				t_corr_exp = AlignTime + time + (DetectorPositionsC[PDalign] - DetectorPositionsC[PDpim] + SheetWidth) / v_fuse; 
				dT_corr_exp = t_fuse[m] - t_damp - t_corr_exp;
				dT_fuse_exp = t_fuse[m] - t_corr_exp;
				if dT_corr_exp^2*a_max^2-4*dX_corr*a_max+4*dT_fuse_exp*v_fuse*a_max < 0 then // Argument of sqrt is negative!
					warning('Expected required correction time is too small!');
				end;				
/*				v_corr_exp = v_fuse+0.5*dT_corr_exp*a_max-0.5*sqrt(dT_corr_exp^2*a_max^2-4*dX_corr*a_max+4*dT_fuse_exp*v_fuse*a_max);

				if v_corr_exp > v_max or v_corr_exp < 0 or t_fuse[m] <= time or (t_corr_exp + dT_corr + t_damp) > t_fuse[m] then
					stopsimulation('Correction velocity higher than maximum velocity or t_fuse smaller than current time!'); //Actual action: empty paperpath and stop motors
				end;
*/			// End of estimation part
			n = n + 1;
		end;
	else
		// On the fall of PD_PIM set STOPFORALIGNMENT signal TRUE
		if PD_PIM_high then
			STOPFORALIGNMENT = 1;
			alignStart = time;
		end;
		PD_PIM_high = false;
	end;
	
	if time > alignStart + AlignTime then
		STOPFORALIGNMENT = 0;
	end;
	
	// On the fall of PD_ALIGN 
	//		-	Compute v_corr (don't forget that the profile will start 2ms later than the actual leaving of the trailing edge)
	//		- 	Check if 0 <= v_corr <= v_max still holds
	//		-	If not ok, empty the path and stop the motors
	//		-	If ok, set the STARTCORRECTION signal TRUE
	//		-	Set the CorrectionTime = t_fuse - t_damp;
	if PD_ALIGN < 0.5 then
		if PD_ALIGN_high then // Falling edge detected
			t_corr = time;
			dT_corr = t_fuse[currentSheet] - t_damp - time;
			dT_fuse = t_fuse[currentSheet] - time;
			sqrt_argument = dT_corr^2*a_max^2-4*dX_corr*a_max+4*dT_fuse*v_fuse*a_max;
			if sqrt_argument < 0 then // Argument of sqrt() is negative!
				stopsimulation('Required correction time is too small!');
				v_corr = 0.1*v_fuse;
			else
				v_corr = v_fuse+0.5*dT_corr*a_max-0.5*sqrt(sqrt_argument);
			end;

/*			if v_corr > v_max or v_corr < 0 or t_fuse[currentSheet] <= time or (time + dT_corr + t_damp) > t_fuse[currentSheet] then
				stopsimulation('Correction velocity higher than maximum velocity or t_fuse smaller than current time!'); //Actual action: empty paperpath and stop motors
			end;	
*/			CorrectionTime = t_fuse[currentSheet] - t_damp + if CAN_delay then sampletime else 0 end; // time with reference t0 = 0{s}
			STARTCORRECTION = 1;
		else
			if( time == 0 ) then
				// make sure the output is always calculated
				// TODO: Check what Correction time actually means
				CorrectionTime = 0;
				v_corr = 0;
				STARTCORRECTION = 0;
			end;	
		end;
		PD_ALIGN_high = false;
	else
		PD_ALIGN_high = true;
		if( time == 0 ) then
			// make sure the output is always calculated
				// TODO: Check what Correction time actually means
			CorrectionTime = 0;
			v_corr = 0;
			STARTCORRECTION = 0;
		end;
	end;

	if time > CorrectionTime then
		STARTCORRECTION = 0;
	end;

	if PD_CORR > 0.5 then
		PD_CORR_high = true;
	else
		if PD_CORR_high then // on falling edge switch on the throw out profile
			THROWOUT = 1;
		end;
		PD_CORR_high = false;
	end;	

	if PD_FUSE > 0.5 then
		if not(PD_FUSE_high) then
			arrivalError = time- t_fuse[currentSheet];
			currentSheet = if currentSheet < 5 then currentSheet + 1 else 1 end;
			PD_FUSE_high = true;
			/*if JOBDONE > 0.5 then // Last sheet has reached the fuse, now a new job may be started
				allowNewJob = true;
			end;*/
		end;
	else
		if PD_FUSE_high then // on falling edge switch off the throw out profile
			THROWOUT = 0;
		end;
		PD_FUSE_high = false;
	end;implementation_end;
  end;
  connections
   Node_1\PWM_PIM -> PWM_PIM;
   Node_1\paperPresent_out -> Delay14\input 592 56;
   Delay14\output -> Supervisor\paperPresent 128 56;
   Splitter2\output -> Node_1\CAN_parameters 592 168;
   paperPresent -> Node_1\paperPresent;
   ENC_PIM -> Node_1\ENC_PIM;
   BooleanSignalSplitter\s4 -> Node_3\PD_In;
   Delay6\output -> Node_2\v_corr 592 384;
   Submodel6\out1 -> Node_1\ENC1;
   Submodel6\out4 -> Node_3\ENC;
   ENC -> Submodel6\input;
   Node_1\EnterSheet -> FeedSheet;
   Submodel6\out2 -> Node_2\ENC2;
   Submodel6\out3 -> Node_2\ENC3;
   Node_2\PWM2 -> Submodel7\in2;
   Splitter2\output -> Node_3\CAN_parameters 592 400;
   Node_2\PWM3 -> Submodel7\in3;
   Node_3\PWM -> Submodel7\in4;
   PaperDetectors -> BooleanSignalSplitter\S;
   Supervisor\CAN_parameters -> Delay9\input;
   Delay8\output -> Supervisor\PD_FUSE 144 456;
   Delay5\output -> Supervisor\PD_ALIGN 208 224;
   Node_1\JOBDONE -> Delay12\input 592 88;
   Delay2\output -> Supervisor\PD_PIM 176 152;
   Supervisor\v_corr -> Delay6\input 176 384;
   Supervisor\STARTCORRECTION -> Delay10\input 192 352;
   Supervisor\STOPFORALIGNMENT -> Delay3\input 192 192;
   Delay11\input <- Supervisor\CorrectionTime 208 320;
   Delay2\input <- Node_1\PD_PIM_OUT 592 152;
   Delay3\output -> Node_2\STOPFORALIGNMENT 592 192;
   Delay5\input <- Node_2\PD_ALIGN_Out 592 224;
   BooleanSignalSplitter\s2 -> Node_2\PD_ALIGN_In;
   Delay11\output -> Node_2\CorrectionTime 592 320;
   Delay10\output -> Node_2\STARTCORRECTION 592 352;
   Delay7\input <- Node_2\PD_CORR 592 416;
   Delay8\input <- Node_3\PD_FUSE 592 456;
   Delay9\output -> Splitter2\input;
   Submodel7\output -> PWM;
   Splitter2\output -> Node_2\CAN_parameters;
   BooleanSignalSplitter\s1 -> Node_1\PD_PIM_IN;
   BooleanSignalSplitter\s3 -> Node_2\PD_CORR_In;
   JobStart -> Supervisor\JobStart;
   Delay7\output -> Supervisor\PD_CORR 160 416;
   Supervisor\PIMSTART -> Delay1\input 160 120;
   Delay12\output -> Supervisor\JOBDONE 144 88;
   Node_1\PWM1 -> Submodel7\in1;
   Supervisor\THROWOUT -> Delay13\input 128 488;
   Delay1\output -> Node_1\PIMSTART 592 120;
   Delay13\output -> Node_3\THROWOUT 592 488;
  end;
  figures
   rectangle 304 32 384 512 fill 15132390;
   group
    rectangle 840.5 188.8 1032.5 388.8 fill 15132390;
    text 'IO to Plant' 944.5 372.8 16;
   end;
   rectangle 88 216 240 344 fill 15132390;
   text 'Node' 224 336 16;
   text 'PIMSTART' 488 128 16;
   text 'PD_PIM' 488 160 16;
   text 'STOPFORALIGNMENT' 488 200 16;
   text 'PD_ALIGN' 488 232 16;
   text 'PD_CORR' 488 424 16;
   text 'v_corr' 488 392 16;
   text 'PD_FUSE' 488 464 16;
   text 'Parameters' 488 280 16;
   text 'STARTCORRECTION' 496 360 16;
   text 'CorrectionTime' 488 328 16;
   text 'JOBDONE' 488 96 16;
   text 'THROWOUT' 488 496 16;
   text 'paperPresent' 488 64 16;
 implementation_end;
specification_end;
				specification 'cosim'
 type Control
  ports
   signal in PaperDetectors [4,1];
   signal out PWM [4,1];
   signal in ENC [4,1];
   signal out FeedSheet;
   signal out PWM_PIM;
   signal in ENC_PIM;
   signal in JobStart;
   signal in paperPresent;
 end;
 icon bg
  figures
   rectangle 186 170 246 214 fill 14013909;
   text 'name' 216 192 16;
 end;
 implementation eq
//parameters
//	real global maxlevel ('shared');
//	real global minlevel ('shared');

externals
	real global export E_ENC0; //PIM = Paper Input Module
	real global export E_ENC1;
	real global export E_ENC2;
	real global export E_ENC3;
	real global export E_ENC4;
	//real global export E_PaperPresent;
	//real global export E_JobStart;	

	real global import I_PWM0;
	real global import I_PWM1;
	real global import I_PWM2;
	real global import I_PWM3;
	real global import I_PWM4;
	real global import I_FeedSheet;

variables
	boolean PD1_UP ('event');
	boolean PD2_UP ('event');
	boolean PD3_UP ('event');
	boolean PD4_UP ('event');
	boolean PD1_DOWN ('event');
	boolean PD2_DOWN ('event');
	boolean PD3_DOWN ('event');
	boolean PD4_DOWN ('event');

code
	//Ouptuts of 20-sim, inputs for VDM
	E_ENC0 = ENC_PIM;
	E_ENC1 = ENC[1];
	E_ENC2 = ENC[2];
	E_ENC3 = ENC[3];
	E_ENC4 = ENC[4];

	//E_PaperPresent = paperPresent;
	//E_JobStart = JobStart;

	//EVENTS
	PD1_UP = eventup(PaperDetectors[1] - 0.5);
	PD2_UP = eventup(PaperDetectors[2] - 0.5);
	PD3_UP = eventup(PaperDetectors[3] - 0.5);
	PD4_UP = eventup(PaperDetectors[4] - 0.5);

	PD1_DOWN = eventdown(PaperDetectors[1] - 0.5);
	PD2_DOWN = eventdown(PaperDetectors[2] - 0.5);
	PD3_DOWN = eventdown(PaperDetectors[3] - 0.5);
	PD4_DOWN = eventdown(PaperDetectors[4] - 0.5);

	// IN BETWEEN HERE THE VDM/DESTECS WILL CALCULATE THE NEW VALVE CONTROL VALUE

	//Outputs of VDM, inputs for 20sim
	PWM_PIM = I_PWM0;
	PWM[1] = I_PWM1;
	PWM[2] = I_PWM2;
	PWM[3] = I_PWM3;
	PWM[4] = I_PWM4;
	FeedSheet = I_FeedSheet;implementation_end;
specification_end;
			end;
   Hold 464 128
    type Hold
     ports
      signal in input;
      signal boolean out output;
    end;
    icon bg bottom
     figures
      rectangle 448 112 480 144 fill 15132390;
      text 'ZOH' 465.1 126.9 color 16711680 14;
    end;
    implementation eq
parameters
	real initial = 0.0;
variables
	real output2;
equations
	output2 = hold(input, initial);
	 output = if (output2 > 0) then true else false end;implementation_end;
   IO 456 192
    type Submodel
     ports
      signal in PWM_In [4,1];
      signal out PWM_Out [4,1];
      signal in ENC_In [4,1];
      signal out ENC_Out [4,1];
    end;
    icon bg
     figures
      rectangle 416.5 168.5 495.5 215.5 fill 12895428;
      text 'name' 456 192 16;
    end;
    implementation bg
     submodels
      DA2 504 240
       type DA
        ports
         signal in input;
         signal out output;
        parameters
         real minimum = -1.0;
         real maximum = 1.0;
         real bits = 12.0;
       end;
       icon bg bottom
        figures
         rectangle 488 224 520 256 fill 15132390;
         spline 494.4 249.3 512 231.7 color 16711680;
         text 'A' 510.2 245.5 color 16711680 14;
         text 'D' 497.2 234.8 color 16711680 14;
       end;
       implementation eq
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
      DA3 504 424
       type DA
        ports
         signal in input;
         signal out output;
        parameters
         real minimum = -1.0;
         real maximum = 1.0;
         real bits = 12.0;
       end;
       icon bg bottom
        figures
         rectangle 488 408 520 440 fill 15132390;
         spline 494.4 433.3 512 415.7 color 16711680;
         text 'A' 510.2 429.5 color 16711680 14;
         text 'D' 497.2 418.8 color 16711680 14;
       end;
       implementation eq
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
      DA4 504 600
       type DA
        ports
         signal in input;
         signal out output;
        parameters
         real minimum = -1.0;
         real maximum = 1.0;
         real bits = 12.0;
       end;
       icon bg bottom
        figures
         rectangle 488 584 520 616 fill 15132390;
         spline 494.4 609.3 512 591.7 color 16711680;
         text 'A' 510.2 605.5 color 16711680 14;
         text 'D' 497.2 594.8 color 16711680 14;
       end;
       implementation eq
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
      Delay 432 56
       type Delay
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 416 40 448 72 fill 15132390;
         text 'Z' 430.7 56 color 16711680 14 bold;
         text '-1' 438.4 49 color 16711680 10 bold;
       end;
       implementation eq
equations
	output = previous (input);
   implementation_end;
      Delay2 432 240
       type Delay
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 416 224 448 256 fill 15132390;
         text 'Z' 430.7 240 color 16711680 14 bold;
         text '-1' 438.4 233 color 16711680 10 bold;
       end;
       implementation eq
equations
	output = previous (input);
   implementation_end;
      Delay3 432 424
       type Delay
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 416 408 448 440 fill 15132390;
         text 'Z' 430.7 424 color 16711680 14 bold;
         text '-1' 438.4 417 color 16711680 10 bold;
       end;
       implementation eq
equations
	output = previous (input);
   implementation_end;
      Delay4 432 600
       type Delay
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 416 584 448 616 fill 15132390;
         text 'Z' 430.7 600 color 16711680 14 bold;
         text '-1' 438.4 593 color 16711680 10 bold;
       end;
       implementation eq
equations
	output = previous (input);
   implementation_end;
      Encoder 440 136
       type Quantize
        ports
         signal in input;
         signal out output;
        parameters
         real lsb = 1.0;
       end;
       icon bg bottom
        figures
         rectangle 424 120 456 152 fill 15132390;
         group
          line 450.3 126.1 450.3 129.1 color 16711680;
          line 450.3 129.1 446.8 129.1 color 16711680;
          line 446.8 129.1 446.8 131.9 color 16711680;
          line 446.8 131.9 443.3 131.9 color 16711680;
          line 443.3 131.9 443.3 134.8 color 16711680;
          line 443.3 134.8 439.7 134.8 color 16711680;
          line 439.7 134.8 439.7 137.7 color 16711680;
          line 439.7 137.7 436.2 137.7 color 16711680;
          line 436.2 137.7 436.2 140.6 color 16711680;
          line 436.2 140.6 432.6 140.6 color 16711680;
          line 432.6 140.6 432.6 143.5 color 16711680;
          line 432.6 143.5 429 143.5 color 16711680;
          line 429 146.3 429 143.5 color 16711680;
         end;
       end;
       implementation eq
variables
	real q, half_lsb;
equations
	half_lsb = lsb / 2;
	q = if input < 0.0 then 
		input - half_lsb
	else
		input + half_lsb
	end;
	output =  q - (q mod lsb);
    implementation_end;
      Gain2 504 320
       type Gain
        ports
         signal in input;
         signal out output;
        parameters
         real K = 2000.0;
       end;
       icon bg bottom
        figures
         rectangle 488.1 304 519.9 336 fill 15132390;
         text 'K' 504 320 color 16711680 16 bold;
       end;
       implementation eq
equations
	output = K * input;
    implementation_end;
      Gain3 504 504
       type Gain
        ports
         signal in input;
         signal out output;
        parameters
         real K = 2000.0;
       end;
       icon bg bottom
        figures
         rectangle 488.1 488 519.9 520 fill 15132390;
         text 'K' 504 504 color 16711680 16 bold;
       end;
       implementation eq
equations
	output = K * input;
    implementation_end;
      Gain4 504 680
       type Gain
        ports
         signal in input;
         signal out output;
        parameters
         real K = 2000.0;
       end;
       icon bg bottom
        figures
         rectangle 488.1 664 519.9 696 fill 15132390;
         text 'K' 504 680 color 16711680 16 bold;
       end;
       implementation eq
equations
	output = K * input;
    implementation_end;
      Integrate2 560 320
       type Integrate
        ports
         signal in input;
         signal out output;
        parameters
         real initial = 0.0;
       end;
       icon bg bottom
        figures
         rectangle 544 304 576 336 fill 15132390;
         text '' 560 317.3 color 16711680 'SymbolProp BT' 21 symbol;
       end;
       implementation eq
equations
	output = int (input, initial);
     implementation_end;
      Integrate3 560 504
       type Integrate
        ports
         signal in input;
         signal out output;
        parameters
         real initial = 0.0;
       end;
       icon bg bottom
        figures
         rectangle 544 488 576 520 fill 15132390;
         text '' 560 501.3 color 16711680 'SymbolProp BT' 21 symbol;
       end;
       implementation eq
equations
	output = int (input, initial);
     implementation_end;
      Integrate4 560 680
       type Integrate
        ports
         signal in input;
         signal out output;
        parameters
         real initial = 0.0;
       end;
       icon bg bottom
        figures
         rectangle 544 664 576 696 fill 15132390;
         text '' 560 677.3 color 16711680 'SymbolProp BT' 21 symbol;
       end;
       implementation eq
equations
	output = int (input, initial);
     implementation_end;
      plug ENC_Out 48 464;
      plug ENC_In 872 480;
      plug PWM_Out 880 296;
      plug PWM_In 40 288;
      PWM 504 56
       type DA
        ports
         signal in input;
         signal out output;
        parameters
         real minimum = -1.0;
         real maximum = 1.0;
         real bits = 12.0;
       end;
       icon bg bottom
        figures
         rectangle 488 40 520 72 fill 15132390;
         spline 494.4 65.3 512 47.7 color 16711680;
         text 'A' 510.2 61.5 color 16711680 14;
         text 'D' 497.2 50.8 color 16711680 14;
       end;
       implementation eq
variables
	real windowed_signal, quantisized_signal, rounded_signal;
	real lsb, half_lsb;
equations
	lsb = (maximum - minimum) / (exp2 (bits) -1);
	half_lsb = lsb / 2;
	windowed_signal = if input <= minimum then
		minimum+ half_lsb
	else
		if input >= maximum then 
			maximum - half_lsb
		else 
			input
		end
	end;
	quantisized_signal = if windowed_signal < 0.0 then
		windowed_signal - half_lsb
	else
		 windowed_signal + half_lsb
	end;

	rounded_signal =  quantisized_signal - (quantisized_signal mod lsb);
	output = hold (rounded_signal);
      implementation_end;
      Quantize2 440 320
       type Quantize
        ports
         signal in input;
         signal out output;
        parameters
         real lsb = 1.0;
       end;
       icon bg bottom
        figures
         rectangle 424 304 456 336 fill 15132390;
         group
          line 450.3 310.1 450.3 313.1 color 16711680;
          line 450.3 313.1 446.8 313.1 color 16711680;
          line 446.8 313.1 446.8 315.9 color 16711680;
          line 446.8 315.9 443.3 315.9 color 16711680;
          line 443.3 315.9 443.3 318.8 color 16711680;
          line 443.3 318.8 439.7 318.8 color 16711680;
          line 439.7 318.8 439.7 321.7 color 16711680;
          line 439.7 321.7 436.2 321.7 color 16711680;
          line 436.2 321.7 436.2 324.6 color 16711680;
          line 436.2 324.6 432.6 324.6 color 16711680;
          line 432.6 324.6 432.6 327.5 color 16711680;
          line 432.6 327.5 429 327.5 color 16711680;
          line 429 330.3 429 327.5 color 16711680;
         end;
       end;
       implementation eq
variables
	real q, half_lsb;
equations
	half_lsb = lsb / 2;
	q = if input < 0.0 then 
		input - half_lsb
	else
		input + half_lsb
	end;
	output =  q - (q mod lsb);
    implementation_end;
      Quantize3 440 504
       type Quantize
        ports
         signal in input;
         signal out output;
        parameters
         real lsb = 1.0;
       end;
       icon bg bottom
        figures
         rectangle 424 488 456 520 fill 15132390;
         group
          line 450.3 494.1 450.3 497.1 color 16711680;
          line 450.3 497.1 446.8 497.1 color 16711680;
          line 446.8 497.1 446.8 499.9 color 16711680;
          line 446.8 499.9 443.3 499.9 color 16711680;
          line 443.3 499.9 443.3 502.8 color 16711680;
          line 443.3 502.8 439.7 502.8 color 16711680;
          line 439.7 502.8 439.7 505.7 color 16711680;
          line 439.7 505.7 436.2 505.7 color 16711680;
          line 436.2 505.7 436.2 508.6 color 16711680;
          line 436.2 508.6 432.6 508.6 color 16711680;
          line 432.6 508.6 432.6 511.5 color 16711680;
          line 432.6 511.5 429 511.5 color 16711680;
          line 429 514.3 429 511.5 color 16711680;
         end;
       end;
       implementation eq
variables
	real q, half_lsb;
equations
	half_lsb = lsb / 2;
	q = if input < 0.0 then 
		input - half_lsb
	else
		input + half_lsb
	end;
	output =  q - (q mod lsb);
    implementation_end;
      Quantize4 440 680
       type Quantize
        ports
         signal in input;
         signal out output;
        parameters
         real lsb = 1.0;
       end;
       icon bg bottom
        figures
         rectangle 424 664 456 696 fill 15132390;
         group
          line 450.3 670.1 450.3 673.1 color 16711680;
          line 450.3 673.1 446.8 673.1 color 16711680;
          line 446.8 673.1 446.8 675.9 color 16711680;
          line 446.8 675.9 443.3 675.9 color 16711680;
          line 443.3 675.9 443.3 678.8 color 16711680;
          line 443.3 678.8 439.7 678.8 color 16711680;
          line 439.7 678.8 439.7 681.7 color 16711680;
          line 439.7 681.7 436.2 681.7 color 16711680;
          line 436.2 681.7 436.2 684.6 color 16711680;
          line 436.2 684.6 432.6 684.6 color 16711680;
          line 432.6 684.6 432.6 687.5 color 16711680;
          line 432.6 687.5 429 687.5 color 16711680;
          line 429 690.3 429 687.5 color 16711680;
         end;
       end;
       implementation eq
variables
	real q, half_lsb;
equations
	half_lsb = lsb / 2;
	q = if input < 0.0 then 
		input - half_lsb
	else
		input + half_lsb
	end;
	output =  q - (q mod lsb);
    implementation_end;
      Rev2Pulse 504 136
       type Gain
        ports
         signal in input;
         signal out output;
        parameters
         real K = 2000.0;
       end;
       icon bg bottom
        figures
         rectangle 488.1 120 519.9 152 fill 15132390;
         text 'K' 504 136 color 16711680 16 bold;
       end;
       implementation eq
equations
	output = K * input;
    implementation_end;
      Sample 368 136
       type Sample
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 352 120 384 152 fill 15132390;
         line 354.3 126.8 357.2 126.8 357.2 122.9 361.3 122.9 361.3 126.8 365.2 126.8 365.2 122.9 367.1 122.9 color 16711680 fill 15132390;
         line 367.5 128.4 369.7 128.4 369.7 134.4 370.6 132.9 fill 15132390;
         line 369 133.1 369.7 134.4 fill 15132390;
         line 355.9 139.9 363.9 139.9 376 136 fill 15132390 width 2;
       end;
       implementation eq
equations
	output = sample (input);
      implementation_end;
      Sample2 368 320
       type Sample
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 352 304 384 336 fill 15132390;
         line 354.3 310.8 357.2 310.8 357.2 306.9 361.3 306.9 361.3 310.8 365.2 310.8 365.2 306.9 367.1 306.9 color 16711680 fill 15132390;
         line 367.5 312.4 369.7 312.4 369.7 318.4 370.6 316.9 fill 15132390;
         line 369 317.1 369.7 318.4 fill 15132390;
         line 355.9 323.9 363.9 323.9 376 320 fill 15132390 width 2;
       end;
       implementation eq
equations
	output = sample (input);
      implementation_end;
      Sample3 368 504
       type Sample
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 352 488 384 520 fill 15132390;
         line 354.3 494.8 357.2 494.8 357.2 490.9 361.3 490.9 361.3 494.8 365.2 494.8 365.2 490.9 367.1 490.9 color 16711680 fill 15132390;
         line 367.5 496.4 369.7 496.4 369.7 502.4 370.6 500.9 fill 15132390;
         line 369 501.1 369.7 502.4 fill 15132390;
         line 355.9 507.9 363.9 507.9 376 504 fill 15132390 width 2;
       end;
       implementation eq
equations
	output = sample (input);
      implementation_end;
      Sample4 368 680
       type Sample
        ports
         signal in input;
         signal out output;
       end;
       icon bg bottom
        figures
         rectangle 352 664 384 696 fill 15132390;
         line 354.3 670.8 357.2 670.8 357.2 666.9 361.3 666.9 361.3 670.8 365.2 670.8 365.2 666.9 367.1 666.9 color 16711680 fill 15132390;
         line 367.5 672.4 369.7 672.4 369.7 678.4 370.6 676.9 fill 15132390;
         line 369 677.1 369.7 678.4 fill 15132390;
         line 355.9 683.9 363.9 683.9 376 680 fill 15132390 width 2;
       end;
       implementation eq
equations
	output = sample (input);
      implementation_end;
      Submodel3 135.5 287.5
       type Submodel
        ports
         signal in input [4,1];
         signal out out1;
         signal out out2;
         signal out out3;
         signal out out4;
       end;
       icon bg
        figures
         rectangle 131.5 263.5 139.5 311.5 fill 0;
        terminals
         input 127 288 fixed;
         out1 143 272 fixed;
         out2 143 280 fixed;
         out3 143 296 fixed;
         out4 143 304 fixed;
       end;
       implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  input = [out1;out2;out3;out4];
 implementation_end;
      Submodel4 136.4 463.5
       type Submodel
        ports
         signal out output [4,1];
         signal in in1;
         signal in in2;
         signal in in3;
         signal in in4;
       end;
       icon bg
        figures
         rectangle 132.4 439.5 140.4 487.5 fill 0;
        terminals
         output 127.9 464 fixed;
         in1 143.9 448 fixed;
         in2 143.9 456 fixed;
         in3 143.9 472 fixed;
         in4 143.9 480 fixed;
       end;
       implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  output = [in1;in2;in3;in4];
 implementation_end;
      Submodel6 775.5 479.5
       type Submodel
        ports
         signal in input [4,1];
         signal out out1;
         signal out out2;
         signal out out3;
         signal out out4;
       end;
       icon bg
        figures
         rectangle 771.5 455.5 779.5 503.5 fill 0;
        terminals
         input 783.9 480 fixed;
         out1 767.9 464 fixed;
         out2 767.9 472 fixed;
         out3 767.9 488 fixed;
         out4 767.9 496 fixed;
       end;
       implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  input = [out1;out2;out3;out4];
 implementation_end;
      Submodel7 767.5 295.5
       type Submodel
        ports
         signal out output [4,1];
         signal in in1;
         signal in in2;
         signal in in3;
         signal in in4;
       end;
       icon bg
        figures
         rectangle 763.5 271.5 771.5 319.5 fill 0;
        terminals
         output 775.9 296 fixed;
         in1 759.9 280 fixed;
         in2 759.9 288 fixed;
         in3 759.9 304 fixed;
         in4 759.9 312 fixed;
       end;
       implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  output = [in1;in2;in3;in4];
 implementation_end;
      Vel2Rev 560 136
       type Integrate
        ports
         signal in input;
         signal out output;
        parameters
         real initial = 0.0;
       end;
       icon bg bottom
        figures
         rectangle 544 120 576 152 fill 15132390;
         text '' 560 133.3 color 16711680 'SymbolProp BT' 21 symbol;
       end;
       implementation eq
equations
	output = int (input, initial);
     implementation_end;
     end;
     connections
      Delay\output -> PWM\input;
      Encoder\output -> Sample\input;
      Submodel6\out3 -> Integrate3\input;
      Rev2Pulse\output -> Encoder\input;
      Integrate4\input <- Submodel6\out4;
      Submodel7\output -> PWM_Out;
      PWM\output -> Submodel7\in1;
      Submodel4\output -> ENC_Out;
      DA4\output -> Submodel7\in4;
      Quantize3\output -> Sample3\input;
      PWM_In -> Submodel3\input;
      Gain3\output -> Quantize3\input;
      Submodel3\out4 -> Delay4\input;
      Submodel3\out3 -> Delay3\input;
      Vel2Rev\output -> Rev2Pulse\input;
      Delay2\output -> DA2\input;
      Submodel3\out2 -> Delay2\input;
      Submodel6\out1 -> Vel2Rev\input;
      Sample4\output -> Submodel4\in4;
      Sample3\output -> Submodel4\in3;
      Sample2\output -> Submodel4\in2;
      Integrate3\output -> Gain3\input;
      Delay4\output -> DA4\input;
      Submodel4\in1 <- Sample\output;
      DA3\output -> Submodel7\in3;
      Quantize2\output -> Sample2\input;
      Integrate2\output -> Gain2\input;
      Gain2\output -> Quantize2\input;
      Submodel6\out2 -> Integrate2\input;
      Delay3\output -> DA3\input;
      Submodel3\out1 -> Delay\input;
      Quantize4\output -> Sample4\input;
      Integrate4\output -> Gain4\input;
      Gain4\output -> Quantize4\input;
      DA2\output -> Submodel7\in2;
      ENC_In -> Submodel6\input;
     end;
     figures
      rectangle 328 568 608 736 fill 15132390;
      rectangle 328 392 608 560 fill 15132390;
      rectangle 328 208 608 376 fill 15132390;
      rectangle 328 24 608 192 fill 15132390;
    implementation_end;
   JobStartSwitchEmlator 56 64
    type 'WaveGenerator-Square'
     ports
      signal out output;
     parameters
      real amplitude = 1.0;
      real omega = 31.415926535898 {rad/s};
    end;
    icon bg bottom
     figures
      rectangle 40.1 48 71.9 80 fill 15132390;
      line 44.1 51.9 43.9 78.2 fill 0;
      line 41.9 76.1 67.9 76.1 fill 0;
      line 44.1 76.1 48 76.1 48 64 color 16711680 fill 0;
      line 56 64 48 64 56 64 color 16711680 fill 0;
      line 56 76.1 56 64 56 76.1 color 16711680 fill 0;
      line 64 64 64 76.1 64 64 color 16711680 fill 0;
      line 67.9 64.1 63.7 64.1 color 16711680 fill 0;
      line 56 76.1 64 76.1 color 16711680 fill 0;
    end;
    implementation eq
variables					
	real hidden s;
equations
	"calculate the square wave"
	s = sign (sin (omega * time));
	output = if( s == 0 ) then
		amplitude
	else
		(amplitude / 2) * (s + 1)
	end;
implementation_end;
   MultiplyDivide1 376 240
    knot MultiplyDivide
     ports
      signal knot duplicatable in multiply [4,1];
      signal knot duplicatable in divide [4,1];
      signal knot out output [4,1];
    end;
    icon bg ellipse
     figures
      ellipse 368 232 384 248 fill 16777215;
    end;
    implementation eq
equations
	output = mul (collect (multiply)) ./ mul (collect (divide));
     implementation_end;
   MultiplyDivide2 376 304
    knot MultiplyDivide
     ports
      signal knot duplicatable in multiply [4,1];
      signal knot duplicatable in divide [4,1];
      signal knot out output [4,1];
    end;
    icon bg ellipse
     figures
      ellipse 368 296 384 312 fill 16777215;
    end;
    implementation eq
equations
	output = round(mul (collect (multiply)) ./ mul (collect (divide)));
     implementation_end;
   One 240 416
    type One
     ports
      signal out output;
    end;
    icon bg
     figures
      rectangle 224.1 400 255.9 432 fill 15132390;
      text '1' 240 416 color 16711680 18 bold;
    end;
    implementation eq
equations
	output = 1;implementation_end;
   One2 304 272
    type One
     ports
      signal out output [4,1];
    end;
    icon bg
     figures
      rectangle 288.1 256 319.9 288 fill 15132390;
      text '1' 304 272 color 16711680 18 bold;
    end;
    implementation eq
equations
	output = 1;implementation_end;
   PaperPresenceEmulator 184 64
    type 'SignalGenerator-Step'
     ports
      signal out output;
     parameters
      real start_time = 5000.0 {s};
    end;
    icon bg bottom
     figures
      group
       rectangle 168 48 200 80 fill 15132390;
       line 177.6 60.8 194.6 60.8 color 16711680 width 2;
       line 170.9 72 197.1 72;
       line 173.1 72.1 177.7 72.1 177.7 60.7 color 16711680 width 2;
       line 173.1 56 173.1 74.2;
      end;
    end;
    implementation eq
equations
	"calculate the step signal"
	output = 1 - step (start_time);     implementation_end;
   PlantModel 672 192
    type 'PlantModel-27'
     ports
      signal boolean out PaperDetectors [4,1];
      signal in PWM [4,1];
      signal out ENC [4,1];
      signal boolean in FeedSheet;
    end;
    icon bg
     figures
      rectangle 616.9 191.7 642.1 198 color -1 fill 9211020;
      ellipse 643 185.1 647.8 189.9 color -1 fill 8441087;
      ellipse 642.9 190.3 647.7 195 color -1 fill 8441087;
      ellipse 648.2 192.3 653 197.1 color -1 fill 0;
      line 617.1 196.4 642.1 191.7 fill 9211020;
      ellipse 634.3 187.1 639.1 191.9 color -1 fill 8441087;
      ellipse 629 183.9 633.8 188.7 color -1 fill 0;
      ellipse 660.1 185.1 664.9 189.9 color -1 fill 8441087;
      ellipse 659.9 190.3 664.7 195 color -1 fill 8441087;
      ellipse 654.6 192.3 659.4 197.1 color -1 fill 0;
      ellipse 676.1 185.1 680.9 189.9 color -1 fill 8441087;
      ellipse 675.9 190.3 680.7 195 color -1 fill 8441087;
      ellipse 670.6 192.3 675.4 197.1 color -1 fill 0;
      ellipse 692.1 185.1 696.9 189.9 color -1 fill 8441087;
      ellipse 691.9 190.3 696.7 195 color -1 fill 8441087;
      ellipse 686.6 192.3 691.4 197.1 color -1 fill 0;
      rectangle 699.7 191.7 726.1 197.7 color -1 fill 9211020;
      rectangle 616.5 198 727.5 200.1 color 13421772 fill 13421772;
    end;
    implementation bg
     submodels
      Animation 504 296
       type 'Submodel-Equation'
        ports
         signal in input [4,1];
         signal in SheetPosition [5,1];
       end;
       implementation eq
constants
	integer global NumPinches;
	integer global NumSheets;
parameters
	real radius = 13.9 {mm};
//	real HeigthDrop[5] = [522.0;652.5;870.0;1305.0;2610.0];
//	real InitialHeight[5] = [0.0;0.0;0.0;0.0;0.0];
	real global DetectorPositions[4];
	real global SheetWidth;
variables
	real PinchAngleTop[NumPinches], PinchAngleBottom[NumPinches];
	real SheetHeight[5];
	integer Sheet;
	real FinisherSidePosition;
	real FinisherBackPosition;
	real global ErrorFlag;
	real ErrorFlagRGB[3];


initialequations
	FinisherSidePosition = max(DetectorPositions);
	FinisherBackPosition = max(DetectorPositions) + SheetWidth;

	ErrorFlagRGB = 0;

equations
	for Sheet = 1 to NumSheets do
		if ( (SheetPosition[Sheet] > 0.01)  and (SheetPosition[Sheet] < SheetWidth) ) then
			SheetHeight[Sheet] = 0.0265;
		else 
			if ( SheetPosition[Sheet] > FinisherBackPosition ) then
			   if  (SheetHeight[Sheet] > 0.0235) then
			          SheetHeight[Sheet] = SheetHeight[Sheet] - 0.00001;
			    end;
			else
			  SheetHeight[Sheet] = 0.025;
			end;
		end;
	end;

	PinchAngleTop = input / radius;
	PinchAngleBottom = -input / radius;

	ErrorFlagRGB[1] = ErrorFlag;
	ErrorFlagRGB[2] = 0;
	ErrorFlagRGB[3] = if ErrorFlag == 1 then 0 else 0.4 end;

	

 implementation_end;
      FrictionModel 263 221.7
       type Submodel
        ports
         signal in S [4,1];
         translation in p [4,1];
       end;
       icon bg bottom
        figures
         image 'Drivetrains\.\FrictionModelIcon.wmf' 225 204 76 35;
        terminals
         S 264 210 fixed;
         p 304 226 fixed;
       end;
       implementation eq
constants
	integer global NumPinches;
parameters
	real Ts = 0.001 {s};
	real global PaperMass;
variables
	integer i;

equations
	for i = 1 to NumPinches do
		// Nullify the velocity difference between pinch and paper in one sample step;
		// F    =      m         *        a
		p.e[i] = PaperMass * (p.f[i]/Ts) * S[i];
	end;
    
 implementation_end;
      Gather 359.4 359.5
       type Submodel
        ports
         translation in p1;
         translation in p2;
         translation out pOut [4,1];
         translation in p3;
         translation in p4;
        restrictions
         causality preferred out p1;
         causality preferred out p2;
         causality preferred out p3;
         causality preferred out p4;
         causality preferred in pOut;
       end;
       icon bg
        figures
         rectangle 332.3 357.7 386.4 361.3 fill 0;
        terminals
         p1 335.9 368 fixed;
         p2 351.9 368 fixed;
         pOut 359.9 353.1 fixed;
         p3 367.9 368 fixed;
       end;
       implementation eq
equations
	pOut.F = [p1.F; p2.F; p3.F; p4.F];	
	pOut.v = [p1.v; p2.v; p3.v; p4.v];	
implementation_end;
      GlobalParameters 72 48
       type Submodel
       end;
       icon bg
        figures
         rectangle 12.9 31.6 131 64.4 fill 12895428;
         text 'name' 68.9 47.6 16;
       end;
       implementation eq
//constants  // This declaration can be changed as soon as the NumPinches and NumSheets can be declared here (e.g. 20-Sim bug is fixed)
	//integer global NumPinches = 4;
	//integer global NumSheets = 1;
	//integer global NumDetectors = 3;

parameters
	real global SheetWidth = 0.21;
	real global PinchPositions[4] = [-0.03;0.175;0.35;0.525];
	real global DetectorPositions[4] = [0.012;0.186;0.361;0.537];
	real global FrontPinchInfluence = 1.0;
	real global RearPinchInfluence = 0.0;
	real global PaperMass = 0.005;implementation_end;
      plug PaperDetectors 576 24;
      plug PWM 296 656;
      plug ENC 408 656;
      plug FeedSheet 224 24;
      Pinch1 162.8 449.6
       type Pinch
        ports
         signal in PWM;
         signal out MotorVelocity;
         translation out PaperPower;
       end;
       icon bg top
        figures
         ellipse 159.6 449.6 189.5 479.6 fill 12895428;
         line 141 449.1 189 449.1;
         ellipse 159 419.6 189 449.6 fill 12895428;
         ellipse 171.9 431.5 176.2 435.7 fill 0;
         ellipse 136 466.7 146.7 477.3 fill 12895428;
         ellipse 164.8 454.9 184 474.1 fill 12895428;
         line 140.3 466.7 173.3 454.9 fill 12895428;
         line 142.4 477.3 175.5 474.1 fill 12895428;
         ellipse 139.2 469.9 143.5 474.1 fill 0;
         ellipse 172.3 462.4 176.5 466.7 fill 0;
        terminals
         PWM 136 472 fixed;
         MotorVelocity 141.3 476.3 fixed;
       end;
       implementation bg
        submodels
         BeltDisturbance_and_Gear 406.3 111.5
          type 'Submodel-Graphical'
           ports
            rotation psi in p1;
            signal in omega;
            rotation psi out p2;
          end;
          icon bg ellipse
           figures
            ellipse 359.3 95.5 391.3 127.5 fill 9211020;
            ellipse 441.3 105.5 453.3 117.4 fill 9211020;
            line 375.3 95.5 448.9 105.6;
            line 375.3 127.5 447.3 117.9;
            ellipse 373.8 109.3 377 112.5 fill 9211020;
            ellipse 445.8 109.9 449 113.1 fill 9211020;
           terminals
            p1 359.9 111.5 fixed;
            omega 411.7 121.6 fixed;
            p2 453.8 111.5 fixed;
          end;
          implementation bg
           submodels
            BeltDisturbance 198.8 73.1
             type Submodel
              ports
               rotation psi duplicatable in p;
               signal in speed;
             end;
             icon bg ellipse top
              figures
               ellipse 151.8 57.1 183.8 89.1 fill 9211020;
               ellipse 233.9 67.1 245.8 79 fill 9211020;
               line 167.8 57.1 241.4 67.2;
               line 167.8 89.1 239.8 79.5;
               ellipse 166.3 70.9 169.5 74.1 fill 9211020;
               ellipse 238.3 71.5 241.5 74.7 fill 9211020;
              terminals
               speed 199.9 87.5 fixed;
               p 151.8 73;
               p 151.8 73;
               p 245.8 72.9;
             end;
             implementation eq
parameters
	real amplitude = 0.0025;

variables
	real pos;
	real belt_velocity;

equations
	belt_velocity = 0.5 * speed / (90.0/37.0);
	pos = int(belt_velocity,0);
	p.T = amplitude * sin(pos)^2;
 implementation_end;
            Filter2 200 144
             type 'Filter-Generic'
              ports
               signal in u;
               signal out y;
             end;
             icon bg
              figures
               rectangle 168 128 232 160 fill 15132390;
               text 'LP-2' 200 138.7 color 16711680 14 bold;
               text 'Butterworth' 200 151.5;
             end;
             implementation eq
// 20-sim Filter Editor
// 'Generic Filter' 2 0.8 10 20 lp butter
variables
	real hidden n[3], d[3];
initialequations
	// create numerator and denominator coefficients
	n = [0.0; 0.0; 25.266187266789];
	d = [1.0; 7.1086127010534; 25.266187266789];
equations
	// the actual dynamic equations
	y = (1/d[1]) * (n[1] * u + int (n[2] * u - d[2] * y + int (n[3] * u - d[3] * y)));
implementation_end;
            Gear 336 84.3
             type Gear
              ports
               rotation psi in p_fast;
               rotation psi out p_slow;
              restrictions
               orientation constraint not_equal p_fast p_slow;
               causality constraint not_equal p_fast p_slow;
              parameters
               real i = -0.4863813229572; "gear ratio p_slow.omega / p_fast.omega [] "
             end;
             icon ipm bottom
              figures
               line 320 71.8 336 71.8;
               line 336 95.8 352 95.8;
               line 333.3 65.4 337.6 65.4 color -1;
               line 332.8 66.5 339.2 66.5 width 2;
               line 336 66.5 336 77.1 width 2;
               line 332.8 77.1 339.2 77.1 width 2;
               line 332.8 80.3 339.2 80.3 width 2;
               line 336 80.3 336 111.3 width 2;
               line 332.8 111.3 339.2 111.3 width 2;
               text '1' 340.8 88.3;
               text 'i' 328 64.3 color 16711680;
              terminals
               p_fast 320 71.8 fixed;
               p_slow 352 95.8 fixed;
             end;
             implementation eq
equations
	p_fast.T = -i * p_slow.T;
	p_slow.omega = -i * p_fast.omega;
                 implementation_end;
            plug p1 72 72;
            plug omega 200 224;
            plug p2 392 96;
           end;
           connections
            p1 => BeltDisturbance\p;
            BeltDisturbance\p => Gear\p_fast;
            Gear\p_slow => p2;
            omega -> Filter2\u;
            Filter2\y -> BeltDisturbance\speed;
           end;
          implementation_end;
         H_Bridge 168 112
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 25.0;
          end;
          icon bg bottom
           figures
            rectangle 152.1 96 183.9 128 fill 15132390;
            text 'K' 168 112 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         InternalMotorVelocity 320 177.8
          type VelocitySensor
           ports
            rotation psi in p;
            signal out omega {rad/s} ;
            signal out trans_pos {rad} ;
           restrictions
            causality fixed out p;
          end;
          icon bg left
           figures
            line 320 159.9 319.5 183.9;
            ellipse 308.8 173.3 331.2 195.7 fill 16777215;
            text 'V' 320 184.5 15;
           terminals
            p 320 159.9 fixed;
            omega 320 183.9 fixed;
          end;
          implementation eq
variables
	real motor_vel_rev_per_sec;
equations
	p.T = 0;
	omega = p.omega;
	trans_pos = int(omega);
      motor_vel_rev_per_sec = omega / (2 * pi);implementation_end;
         Motor 256 112
          type Submodel
           ports
            signal in electricity;
            rotation out rotation;
          end;
          icon bg bottom
           figures
            rectangle 276.3 109.9 292.6 113.1 fill 15132390;
            rectangle 227.9 95.7 275.9 127.7 fill 15132390;
            line 272 96.3 272 128.3 fill 15132390;
            rectangle 276.8 98.9 280 124.5 fill 15132390;
            text 'DC' 249.6 113.3 color 16711680 14;
            line 227.9 111.2 219.4 111.2 fill 15132390;
          end;
          implementation bg
           submodels
            CoulombFriction 424 200
             type R
              ports
               power in p;
              parameters
               real r = 0.0;
             end;
             icon bg bottom
              figures
               text 'R' 424 200 18 bold;
             end;
             implementation eq
parameters
real radPs = 0.1;
real coulomb = 8.118e-4;
equations

if (abs(p.f) > radPs) then
	p.e =  r * p.f  + coulomb * sign(p.f);
else
	p.e =  r * p.f ;
end;
implementation_end;
            ElectricalInductance 280 56
             type I
              ports
               electric in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 2.38e-4;
             end;
             icon bg top
              figures
               text 'I' 280 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            ElectricalResistance 280 200
             type R
              ports
               power in p;
              parameters
               real r = 2.32;
             end;
             icon bg bottom
              figures
               text 'R' 280 200 18 bold;
             end;
             implementation eq
equations					
	p.e = r * p.f;    implementation_end;
            InertiaMotorAxis 424 56
             type I
              ports
               power in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 1.07e-6;
             end;
             icon bg top
              figures
               text 'I' 424 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            MotorConstant 352 128
             type GY
              ports
               power in p1;
               power out p2;
              restrictions
               causality constraint equal p1 p2;
              parameters
               real r = 0.022;
             end;
             icon bg bottom
              figures
               text 'GY' 352 128 18 bold;
             end;
             implementation eq
equations
	p1.e = r * p2.f;
	p2.e = r * p1.f;     implementation_end;
            MSe1 192 128
             type MSe
              ports
               power out p;
               signal in effort {V} ;
              restrictions
               causality fixed out p;
             end;
             icon bg
              figures
               text 'MSe' 192 128 18 bold;
             end;
             implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;     implementation_end;
            plug electricity 96 128;
            plug rotation 520 128;
            OneJunction1 424 128
             knot OneJunction
              ports
               rotation knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 424 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
            OneJunction2 280 128
             knot OneJunction
              ports
               electric knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 280 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
           end;
           connections
            OneJunction1\p => CoulombFriction\p;
            OneJunction2\p => ElectricalInductance\p;
            MSe1\p => OneJunction2\p;
            ElectricalResistance\p <= OneJunction2\p;
            OneJunction2\p => MotorConstant\p1;
            MotorConstant\p2 => OneJunction1\p;
            OneJunction1\p => InertiaMotorAxis\p;
            OneJunction1\p => rotation;
            electricity -> MSe1\effort;
           end;
          implementation_end;
         plug MotorVelocity 64 272;
         plug PaperPower 672 96;
         plug PWM 96 112;
         Node3 320 112
          knot Node
           ports
            rotation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 108.8 323.2 115.2 color -1 fill 0;
            ellipse 315.7 107.7 324.3 116.3 color -1;
           terminals
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Pinch 544 112
          type 'Submodel-Graphical'
           ports
            rotation psi in p_rot;
            translation psi out p_trans;
          end;
          icon bg ellipse bottom
           figures
            ellipse 528 96 560 128;
            line 512 112 543.5 112;
            line 544 96 576 96;
           terminals
            p_rot 512 112 fixed;
            p_trans 576 96 fixed;
          end;
          implementation bg
           submodels
            CoulombFriction 248 56
             type Break
              ports
               rotation psi duplicatable in p;
              restrictions
               causality fixed out p;
             end;
             icon bg bottom
              figures
               line 243.7 47.5 243.7 40.5 252.3 40.5 252.3 47.5 width 2;
               line 243.7 64.5 243.7 71.5 252.3 71.5 252.3 64.5 width 2;
               line 248 43.2 248 68.8 width 2;
               line 232 56 264 56;
              terminals
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
             end;
             implementation eq
parameters
	real mu_c = 1.0 {rotational coulomb friction coefficient, m};	// coulomb friction coefficient
	real slope = 1000.0 {s/rad};	// steepness of coulomb friction curve
	real Fn = 0.0022;
variables
	real hidden F,v;
equations
	p.T = if Fn < 0 then 0 else Fn*F end;
	v = p.omega;
	F = mu_c*tanh( slope*v );implementation_end;
            plug p_rot 88 56;
            plug p_trans 512 40;
            PichInertia 328 56
             type Inertia
              ports
               rotation psi duplicatable in p;
              restrictions
               causality preferred in p;
              parameters
               real J = 3.112e-6 {kg.m2/rad}; ""
             end;
             icon ipm bottom
              figures
               rectangle 312 40 344 72 fill 13421772;
               text 'J' 328 56 15 italic;
              terminals
               p 312 56;
               p 312 56;
               p 344 56;
             end;
             implementation eq
variables
	real interesting phi {rad};
	real alpha {rad/s2};
equations
	alpha = p.T / J;
	p.omega = int (alpha);
	phi = int (p.omega); implementation_end;
            Rot2Trans_Paper 424 56
             type BeltPulley
              ports
               rotation psi in p_rot;
               translation psi out p_trans;
              restrictions
               orientation constraint not_equal p_rot p_trans;
               causality constraint not_equal p_rot p_trans;
              parameters
               real radius = 0.0139 {m}; "pulley radius"
             end;
             icon bg ellipse top
              figures
               ellipse 408 40 440 72;
               line 392 56 423.5 56;
               line 424 40 456 40;
              terminals
               p_rot 392 56 fixed;
               p_trans 456 40 fixed;
             end;
             implementation eq
equations
	p_trans.v = radius * p_rot.omega;
	p_rot.T = radius * p_trans.F;    implementation_end;
            ViscousFriction 168 56
             type Bearing
              ports
               rotation psi duplicatable in p;
              parameters
               real d = 2.5e-4 {N.m.s/rad}; ""
             end;
             icon bg bottom
              figures
               group
                line 156.8 70 160.5 65.9;
                line 160.5 70 164.4 65.9;
                line 164.4 70 168.1 65.9;
                line 168.1 70 172.1 65.9;
                line 172.1 70 175.8 65.9;
                line 158.4 66.2 178.1 66.2 width 2;
               end;
               group
                group
                 line 160.9 49.1 165.3 53.9;
                 line 160.9 53.9 165.3 49.1;
                 line 169.8 49.1 174.3 53.9;
                 line 169.8 53.9 174.3 49.1;
                 line 165.3 49.1 169.8 53.9;
                 line 165.1 53.9 169.8 49.1;
                end;
                group
                 line 160.9 58.1 165.3 62.9;
                 line 160.9 62.9 165.3 58.1;
                 line 169.8 58.1 174.3 62.9;
                 line 169.8 62.9 174.3 58.1;
                 line 165.3 58.1 169.8 62.7;
                 line 165.1 62.9 169.9 58;
                end;
               end;
               line 152 56 184 56;
               group
                line 177 46.1 158 46.1 width 2;
                line 178.6 42 174.7 46.1;
                line 174.7 42 171 46.1;
                line 171 42 167 46.1;
                line 167 42 163.3 46.1;
                line 163.3 42 159.6 46.1;
               end;
              terminals
               p 152 56;
               p 152 56;
               p 184 56;
             end;
             implementation eq
equations
	p.T = d * p.omega;implementation_end;
           end;
           connections
            p_rot => ViscousFriction\p;
            ViscousFriction\p => CoulombFriction\p;
            CoulombFriction\p => PichInertia\p;
            PichInertia\p => Rot2Trans_Paper\p_rot;
            Rot2Trans_Paper\p_trans => p_trans;
           end;
          implementation_end;
         Rad2Rev 200 272
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 184.1 256 215.9 288 fill 15132390;
            text 'K' 200 272 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = (input/(2*pi));
implementation_end;
         Splitter2 320 232
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 228.8 323.2 235.2 color -1 fill 0;
            ellipse 315.7 227.7 324.3 236.3 color -1;
           terminals
            input 320 232 fixed;
            output 320 232 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
         implementation_end;
        end;
        connections
         Node3\p => InternalMotorVelocity\p;
         Node3\p => BeltDisturbance_and_Gear\p1;
         Motor\rotation => Node3\p;
         BeltDisturbance_and_Gear\p2 => Pinch\p_rot;
         Pinch\p_trans => PaperPower;
         PWM -> H_Bridge\input;
         Rad2Rev\output -> MotorVelocity;
         InternalMotorVelocity\omega -> Splitter2\input;
         Splitter2\output -> BeltDisturbance_and_Gear\omega 411.2 232.5;
         Splitter2\output -> Rad2Rev\input 320 272;
         H_Bridge\output -> Motor\electricity;
        end;
        figures
         rectangle 128 64 344 312 color 15132390 fill 15132390;
         rectangle 344 64 472 312 color 13421772 fill 13421772;
         rectangle 472 64 624 312 color 15132390 fill 15132390;
         text 'Driving' 232 320 16;
         text 'Coupling' 408 320 16;
         text 'Driven' 544 320 16;
         text 'BeltDisturbance and Gear' 408 80;
       implementation_end;
      Pinch2 274.8 449.6
       type Pinch
        ports
         signal in PWM;
         signal out MotorVelocity;
         translation out PaperPower;
       end;
       icon bg top
        figures
         ellipse 271.6 449.6 301.5 479.6 fill 12895428;
         line 253 449.1 301 449.1;
         ellipse 271 419.6 301 449.6 fill 12895428;
         ellipse 283.9 431.5 288.2 435.7 fill 0;
         ellipse 248 466.7 258.7 477.3 fill 12895428;
         ellipse 276.8 454.9 296 474.1 fill 12895428;
         line 252.3 466.7 285.3 454.9 fill 12895428;
         line 254.4 477.3 287.5 474.1 fill 12895428;
         ellipse 251.2 469.9 255.5 474.1 fill 0;
         ellipse 284.3 462.4 288.5 466.7 fill 0;
        terminals
         PWM 248 472 fixed;
         MotorVelocity 253.3 476.3 fixed;
       end;
       implementation bg
        submodels
         BeltDisturbance_and_Gear 406.3 111.5
          type 'Submodel-Graphical'
           ports
            rotation psi in p1;
            signal in omega;
            rotation psi out p2;
          end;
          icon bg ellipse
           figures
            ellipse 359.3 95.5 391.3 127.5 fill 9211020;
            ellipse 441.3 105.5 453.3 117.4 fill 9211020;
            line 375.3 95.5 448.9 105.6;
            line 375.3 127.5 447.3 117.9;
            ellipse 373.8 109.3 377 112.5 fill 9211020;
            ellipse 445.8 109.9 449 113.1 fill 9211020;
           terminals
            p1 359.9 111.5 fixed;
            omega 411.7 121.6 fixed;
            p2 453.8 111.5 fixed;
          end;
          implementation bg
           submodels
            BeltDisturbance 198.8 73.1
             type Submodel
              ports
               rotation psi duplicatable in p;
               signal in speed;
             end;
             icon bg ellipse top
              figures
               ellipse 151.8 57.1 183.8 89.1 fill 9211020;
               ellipse 233.9 67.1 245.8 79 fill 9211020;
               line 167.8 57.1 241.4 67.2;
               line 167.8 89.1 239.8 79.5;
               ellipse 166.3 70.9 169.5 74.1 fill 9211020;
               ellipse 238.3 71.5 241.5 74.7 fill 9211020;
              terminals
               speed 199.9 87.5 fixed;
               p 151.8 73;
               p 151.8 73;
               p 245.8 72.9;
             end;
             implementation eq
parameters
	real amplitude = 0.0025;

variables
	real pos;
	real belt_velocity;

equations
	belt_velocity = 0.5 * speed / (90.0/37.0);
	pos = int(belt_velocity,0);
	p.T = amplitude * sin(pos)^2;
 implementation_end;
            Filter2 200 144
             type 'Filter-Generic'
              ports
               signal in u;
               signal out y;
             end;
             icon bg
              figures
               rectangle 168 128 232 160 fill 15132390;
               text 'LP-2' 200 138.7 color 16711680 14 bold;
               text 'Butterworth' 200 151.5;
             end;
             implementation eq
// 20-sim Filter Editor
// 'Generic Filter' 2 0.8 10 20 lp butter
variables
	real hidden n[3], d[3];
initialequations
	// create numerator and denominator coefficients
	n = [0.0; 0.0; 25.266187266789];
	d = [1.0; 7.1086127010534; 25.266187266789];
equations
	// the actual dynamic equations
	y = (1/d[1]) * (n[1] * u + int (n[2] * u - d[2] * y + int (n[3] * u - d[3] * y)));
implementation_end;
            Gear 336 84.3
             type Gear
              ports
               rotation psi in p_fast;
               rotation psi out p_slow;
              restrictions
               orientation constraint not_equal p_fast p_slow;
               causality constraint not_equal p_fast p_slow;
              parameters
               real i = -0.4863813229572; "gear ratio p_slow.omega / p_fast.omega [] "
             end;
             icon ipm bottom
              figures
               line 320 71.8 336 71.8;
               line 336 95.8 352 95.8;
               line 333.3 65.4 337.6 65.4 color -1;
               line 332.8 66.5 339.2 66.5 width 2;
               line 336 66.5 336 77.1 width 2;
               line 332.8 77.1 339.2 77.1 width 2;
               line 332.8 80.3 339.2 80.3 width 2;
               line 336 80.3 336 111.3 width 2;
               line 332.8 111.3 339.2 111.3 width 2;
               text '1' 340.8 88.3;
               text 'i' 328 64.3 color 16711680;
              terminals
               p_fast 320 71.8 fixed;
               p_slow 352 95.8 fixed;
             end;
             implementation eq
equations
	p_fast.T = -i * p_slow.T;
	p_slow.omega = -i * p_fast.omega;
                 implementation_end;
            plug p1 72 72;
            plug omega 200 224;
            plug p2 392 96;
           end;
           connections
            p1 => BeltDisturbance\p;
            BeltDisturbance\p => Gear\p_fast;
            Gear\p_slow => p2;
            omega -> Filter2\u;
            Filter2\y -> BeltDisturbance\speed;
           end;
          implementation_end;
         H_Bridge 168 112
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 25.0;
          end;
          icon bg bottom
           figures
            rectangle 152.1 96 183.9 128 fill 15132390;
            text 'K' 168 112 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         InternalMotorVelocity 320 177.8
          type VelocitySensor
           ports
            rotation psi in p;
            signal out omega {rad/s} ;
            signal out trans_pos {rad} ;
           restrictions
            causality fixed out p;
          end;
          icon bg left
           figures
            line 320 159.9 319.5 183.9;
            ellipse 308.8 173.3 331.2 195.7 fill 16777215;
            text 'V' 320 184.5 15;
           terminals
            p 320 159.9 fixed;
            omega 320 183.9 fixed;
          end;
          implementation eq
variables
	real motor_vel_rev_per_sec;
equations
	p.T = 0;
	omega = p.omega;
	trans_pos = int(omega);
      motor_vel_rev_per_sec = omega / (2 * pi);implementation_end;
         Motor 256 112
          type Submodel
           ports
            signal in electricity;
            rotation out rotation;
          end;
          icon bg bottom
           figures
            rectangle 276.3 109.9 292.6 113.1 fill 15132390;
            rectangle 227.9 95.7 275.9 127.7 fill 15132390;
            line 272 96.3 272 128.3 fill 15132390;
            rectangle 276.8 98.9 280 124.5 fill 15132390;
            text 'DC' 249.6 113.3 color 16711680 14;
            line 227.9 111.2 219.4 111.2 fill 15132390;
          end;
          implementation bg
           submodels
            CoulombFriction 424 200
             type R
              ports
               power in p;
              parameters
               real r = 0.0;
             end;
             icon bg bottom
              figures
               text 'R' 424 200 18 bold;
             end;
             implementation eq
parameters
real radPs = 0.1;
real coulomb = 8.118e-4;
equations

if (abs(p.f) > radPs) then
	p.e =  r * p.f  + coulomb * sign(p.f);
else
	p.e =  r * p.f ;
end;
implementation_end;
            ElectricalInductance 280 56
             type I
              ports
               electric in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 2.38e-4;
             end;
             icon bg top
              figures
               text 'I' 280 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            ElectricalResistance 280 200
             type R
              ports
               power in p;
              parameters
               real r = 2.32;
             end;
             icon bg bottom
              figures
               text 'R' 280 200 18 bold;
             end;
             implementation eq
equations					
	p.e = r * p.f;    implementation_end;
            InertiaMotorAxis 424 56
             type I
              ports
               power in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 1.07e-6;
             end;
             icon bg top
              figures
               text 'I' 424 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            MotorConstant 352 128
             type GY
              ports
               power in p1;
               power out p2;
              restrictions
               causality constraint equal p1 p2;
              parameters
               real r = 0.022;
             end;
             icon bg bottom
              figures
               text 'GY' 352 128 18 bold;
             end;
             implementation eq
equations
	p1.e = r * p2.f;
	p2.e = r * p1.f;     implementation_end;
            MSe1 192 128
             type MSe
              ports
               power out p;
               signal in effort {V} ;
              restrictions
               causality fixed out p;
             end;
             icon bg
              figures
               text 'MSe' 192 128 18 bold;
             end;
             implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;     implementation_end;
            plug electricity 96 128;
            plug rotation 520 128;
            OneJunction1 424 128
             knot OneJunction
              ports
               rotation knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 424 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
            OneJunction2 280 128
             knot OneJunction
              ports
               electric knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 280 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
           end;
           connections
            OneJunction1\p => CoulombFriction\p;
            OneJunction2\p => ElectricalInductance\p;
            MSe1\p => OneJunction2\p;
            ElectricalResistance\p <= OneJunction2\p;
            OneJunction2\p => MotorConstant\p1;
            MotorConstant\p2 => OneJunction1\p;
            OneJunction1\p => InertiaMotorAxis\p;
            OneJunction1\p => rotation;
            electricity -> MSe1\effort;
           end;
          implementation_end;
         plug MotorVelocity 64 272;
         plug PaperPower 672 96;
         plug PWM 96 112;
         Node3 320 112
          knot Node
           ports
            rotation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 108.8 323.2 115.2 color -1 fill 0;
            ellipse 315.7 107.7 324.3 116.3 color -1;
           terminals
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Pinch 544 112
          type 'Submodel-Graphical'
           ports
            rotation psi in p_rot;
            translation psi out p_trans;
          end;
          icon bg ellipse bottom
           figures
            ellipse 528 96 560 128;
            line 512 112 543.5 112;
            line 544 96 576 96;
           terminals
            p_rot 512 112 fixed;
            p_trans 576 96 fixed;
          end;
          implementation bg
           submodels
            CoulombFriction 248 56
             type Break
              ports
               rotation psi duplicatable in p;
              restrictions
               causality fixed out p;
             end;
             icon bg bottom
              figures
               line 243.7 47.5 243.7 40.5 252.3 40.5 252.3 47.5 width 2;
               line 243.7 64.5 243.7 71.5 252.3 71.5 252.3 64.5 width 2;
               line 248 43.2 248 68.8 width 2;
               line 232 56 264 56;
              terminals
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
             end;
             implementation eq
parameters
	real mu_c = 1.0 {rotational coulomb friction coefficient, m};	// coulomb friction coefficient
	real slope = 1000.0 {s/rad};	// steepness of coulomb friction curve
	real Fn = 0.0022;
variables
	real hidden F,v;
equations
	p.T = if Fn < 0 then 0 else Fn*F end;
	v = p.omega;
	F = mu_c*tanh( slope*v );implementation_end;
            plug p_rot 88 56;
            plug p_trans 512 40;
            PichInertia 328 56
             type Inertia
              ports
               rotation psi duplicatable in p;
              restrictions
               causality preferred in p;
              parameters
               real J = 3.112e-6 {kg.m2/rad}; ""
             end;
             icon ipm bottom
              figures
               rectangle 312 40 344 72 fill 13421772;
               text 'J' 328 56 15 italic;
              terminals
               p 312 56;
               p 312 56;
               p 344 56;
             end;
             implementation eq
variables
	real interesting phi {rad};
	real alpha {rad/s2};
equations
	alpha = p.T / J;
	p.omega = int (alpha);
	phi = int (p.omega); implementation_end;
            Rot2Trans_Paper 424 56
             type BeltPulley
              ports
               rotation psi in p_rot;
               translation psi out p_trans;
              restrictions
               orientation constraint not_equal p_rot p_trans;
               causality constraint not_equal p_rot p_trans;
              parameters
               real radius = 0.0139 {m}; "pulley radius"
             end;
             icon bg ellipse top
              figures
               ellipse 408 40 440 72;
               line 392 56 423.5 56;
               line 424 40 456 40;
              terminals
               p_rot 392 56 fixed;
               p_trans 456 40 fixed;
             end;
             implementation eq
equations
	p_trans.v = radius * p_rot.omega;
	p_rot.T = radius * p_trans.F;    implementation_end;
            ViscousFriction 168 56
             type Bearing
              ports
               rotation psi duplicatable in p;
              parameters
               real d = 2.5e-4 {N.m.s/rad}; ""
             end;
             icon bg bottom
              figures
               group
                line 156.8 70 160.5 65.9;
                line 160.5 70 164.4 65.9;
                line 164.4 70 168.1 65.9;
                line 168.1 70 172.1 65.9;
                line 172.1 70 175.8 65.9;
                line 158.4 66.2 178.1 66.2 width 2;
               end;
               group
                group
                 line 160.9 49.1 165.3 53.9;
                 line 160.9 53.9 165.3 49.1;
                 line 169.8 49.1 174.3 53.9;
                 line 169.8 53.9 174.3 49.1;
                 line 165.3 49.1 169.8 53.9;
                 line 165.1 53.9 169.8 49.1;
                end;
                group
                 line 160.9 58.1 165.3 62.9;
                 line 160.9 62.9 165.3 58.1;
                 line 169.8 58.1 174.3 62.9;
                 line 169.8 62.9 174.3 58.1;
                 line 165.3 58.1 169.8 62.7;
                 line 165.1 62.9 169.9 58;
                end;
               end;
               line 152 56 184 56;
               group
                line 177 46.1 158 46.1 width 2;
                line 178.6 42 174.7 46.1;
                line 174.7 42 171 46.1;
                line 171 42 167 46.1;
                line 167 42 163.3 46.1;
                line 163.3 42 159.6 46.1;
               end;
              terminals
               p 152 56;
               p 152 56;
               p 184 56;
             end;
             implementation eq
equations
	p.T = d * p.omega;implementation_end;
           end;
           connections
            p_rot => ViscousFriction\p;
            ViscousFriction\p => CoulombFriction\p;
            CoulombFriction\p => PichInertia\p;
            PichInertia\p => Rot2Trans_Paper\p_rot;
            Rot2Trans_Paper\p_trans => p_trans;
           end;
          implementation_end;
         Rad2Rev 200 272
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 184.1 256 215.9 288 fill 15132390;
            text 'K' 200 272 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = (input/(2*pi));
implementation_end;
         Splitter2 320 232
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 228.8 323.2 235.2 color -1 fill 0;
            ellipse 315.7 227.7 324.3 236.3 color -1;
           terminals
            input 320 232 fixed;
            output 320 232 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
         implementation_end;
        end;
        connections
         Node3\p => InternalMotorVelocity\p;
         Node3\p => BeltDisturbance_and_Gear\p1;
         Motor\rotation => Node3\p;
         BeltDisturbance_and_Gear\p2 => Pinch\p_rot;
         Pinch\p_trans => PaperPower;
         PWM -> H_Bridge\input;
         Rad2Rev\output -> MotorVelocity;
         InternalMotorVelocity\omega -> Splitter2\input;
         Splitter2\output -> BeltDisturbance_and_Gear\omega 411.2 232.5;
         Splitter2\output -> Rad2Rev\input 320 272;
         H_Bridge\output -> Motor\electricity;
        end;
        figures
         rectangle 128 64 344 312 color 15132390 fill 15132390;
         rectangle 344 64 472 312 color 13421772 fill 13421772;
         rectangle 472 64 624 312 color 15132390 fill 15132390;
         text 'Driving' 232 320 16;
         text 'Coupling' 408 320 16;
         text 'Driven' 544 320 16;
         text 'BeltDisturbance and Gear' 408 80;
       implementation_end;
      Pinch3 418.8 449.6
       type Pinch
        ports
         signal in PWM;
         signal out MotorVelocity;
         translation out PaperPower;
       end;
       icon bg top
        figures
         ellipse 415.6 449.6 445.5 479.6 fill 12895428;
         line 397 449.1 445 449.1;
         ellipse 415 419.6 445 449.6 fill 12895428;
         ellipse 427.9 431.5 432.2 435.7 fill 0;
         ellipse 392 466.7 402.7 477.3 fill 12895428;
         ellipse 420.8 454.9 440 474.1 fill 12895428;
         line 396.3 466.7 429.3 454.9 fill 12895428;
         line 398.4 477.3 431.5 474.1 fill 12895428;
         ellipse 395.2 469.9 399.5 474.1 fill 0;
         ellipse 428.3 462.4 432.5 466.7 fill 0;
        terminals
         PWM 392 472 fixed;
         MotorVelocity 397.3 476.3 fixed;
       end;
       implementation bg
        submodels
         BeltDisturbance_and_Gear 406.3 111.5
          type 'Submodel-Graphical'
           ports
            rotation psi in p1;
            signal in omega;
            rotation psi out p2;
          end;
          icon bg ellipse
           figures
            ellipse 359.3 95.5 391.3 127.5 fill 9211020;
            ellipse 441.3 105.5 453.3 117.4 fill 9211020;
            line 375.3 95.5 448.9 105.6;
            line 375.3 127.5 447.3 117.9;
            ellipse 373.8 109.3 377 112.5 fill 9211020;
            ellipse 445.8 109.9 449 113.1 fill 9211020;
           terminals
            p1 359.9 111.5 fixed;
            omega 411.7 121.6 fixed;
            p2 453.8 111.5 fixed;
          end;
          implementation bg
           submodels
            BeltDisturbance 198.8 73.1
             type Submodel
              ports
               rotation psi duplicatable in p;
               signal in speed;
             end;
             icon bg ellipse top
              figures
               ellipse 151.8 57.1 183.8 89.1 fill 9211020;
               ellipse 233.9 67.1 245.8 79 fill 9211020;
               line 167.8 57.1 241.4 67.2;
               line 167.8 89.1 239.8 79.5;
               ellipse 166.3 70.9 169.5 74.1 fill 9211020;
               ellipse 238.3 71.5 241.5 74.7 fill 9211020;
              terminals
               speed 199.9 87.5 fixed;
               p 151.8 73;
               p 151.8 73;
               p 245.8 72.9;
             end;
             implementation eq
parameters
	real amplitude = 0.0025;

variables
	real pos;
	real belt_velocity;

equations
	belt_velocity = 0.5 * speed / (90.0/37.0);
	pos = int(belt_velocity,0);
	p.T = amplitude * sin(pos)^2;
 implementation_end;
            Filter2 200 144
             type 'Filter-Generic'
              ports
               signal in u;
               signal out y;
             end;
             icon bg
              figures
               rectangle 168 128 232 160 fill 15132390;
               text 'LP-2' 200 138.7 color 16711680 14 bold;
               text 'Butterworth' 200 151.5;
             end;
             implementation eq
// 20-sim Filter Editor
// 'Generic Filter' 2 0.8 10 20 lp butter
variables
	real hidden n[3], d[3];
initialequations
	// create numerator and denominator coefficients
	n = [0.0; 0.0; 25.266187266789];
	d = [1.0; 7.1086127010534; 25.266187266789];
equations
	// the actual dynamic equations
	y = (1/d[1]) * (n[1] * u + int (n[2] * u - d[2] * y + int (n[3] * u - d[3] * y)));
implementation_end;
            Gear 336 84.3
             type Gear
              ports
               rotation psi in p_fast;
               rotation psi out p_slow;
              restrictions
               orientation constraint not_equal p_fast p_slow;
               causality constraint not_equal p_fast p_slow;
              parameters
               real i = -0.4863813229572; "gear ratio p_slow.omega / p_fast.omega [] "
             end;
             icon ipm bottom
              figures
               line 320 71.8 336 71.8;
               line 336 95.8 352 95.8;
               line 333.3 65.4 337.6 65.4 color -1;
               line 332.8 66.5 339.2 66.5 width 2;
               line 336 66.5 336 77.1 width 2;
               line 332.8 77.1 339.2 77.1 width 2;
               line 332.8 80.3 339.2 80.3 width 2;
               line 336 80.3 336 111.3 width 2;
               line 332.8 111.3 339.2 111.3 width 2;
               text '1' 340.8 88.3;
               text 'i' 328 64.3 color 16711680;
              terminals
               p_fast 320 71.8 fixed;
               p_slow 352 95.8 fixed;
             end;
             implementation eq
equations
	p_fast.T = -i * p_slow.T;
	p_slow.omega = -i * p_fast.omega;
                 implementation_end;
            plug p1 72 72;
            plug omega 200 224;
            plug p2 392 96;
           end;
           connections
            p1 => BeltDisturbance\p;
            BeltDisturbance\p => Gear\p_fast;
            Gear\p_slow => p2;
            omega -> Filter2\u;
            Filter2\y -> BeltDisturbance\speed;
           end;
          implementation_end;
         H_Bridge 168 112
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 25.0;
          end;
          icon bg bottom
           figures
            rectangle 152.1 96 183.9 128 fill 15132390;
            text 'K' 168 112 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         InternalMotorVelocity 320 177.8
          type VelocitySensor
           ports
            rotation psi in p;
            signal out omega {rad/s} ;
            signal out trans_pos {rad} ;
           restrictions
            causality fixed out p;
          end;
          icon bg left
           figures
            line 320 159.9 319.5 183.9;
            ellipse 308.8 173.3 331.2 195.7 fill 16777215;
            text 'V' 320 184.5 15;
           terminals
            p 320 159.9 fixed;
            omega 320 183.9 fixed;
          end;
          implementation eq
variables
	real motor_vel_rev_per_sec;
equations
	p.T = 0;
	omega = p.omega;
	trans_pos = int(omega);
      motor_vel_rev_per_sec = omega / (2 * pi);implementation_end;
         Motor 256 112
          type Submodel
           ports
            signal in electricity;
            rotation out rotation;
          end;
          icon bg bottom
           figures
            rectangle 276.3 109.9 292.6 113.1 fill 15132390;
            rectangle 227.9 95.7 275.9 127.7 fill 15132390;
            line 272 96.3 272 128.3 fill 15132390;
            rectangle 276.8 98.9 280 124.5 fill 15132390;
            text 'DC' 249.6 113.3 color 16711680 14;
            line 227.9 111.2 219.4 111.2 fill 15132390;
          end;
          implementation bg
           submodels
            CoulombFriction 424 200
             type R
              ports
               power in p;
              parameters
               real r = 0.0;
             end;
             icon bg bottom
              figures
               text 'R' 424 200 18 bold;
             end;
             implementation eq
parameters
real radPs = 0.1;
real coulomb = 8.118e-4;
equations

if (abs(p.f) > radPs) then
	p.e =  r * p.f  + coulomb * sign(p.f);
else
	p.e =  r * p.f ;
end;
implementation_end;
            ElectricalInductance 280 56
             type I
              ports
               electric in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 2.38e-4;
             end;
             icon bg top
              figures
               text 'I' 280 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            ElectricalResistance 280 200
             type R
              ports
               power in p;
              parameters
               real r = 2.32;
             end;
             icon bg bottom
              figures
               text 'R' 280 200 18 bold;
             end;
             implementation eq
equations					
	p.e = r * p.f;    implementation_end;
            InertiaMotorAxis 424 56
             type I
              ports
               power in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 1.07e-6;
             end;
             icon bg top
              figures
               text 'I' 424 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            MotorConstant 352 128
             type GY
              ports
               power in p1;
               power out p2;
              restrictions
               causality constraint equal p1 p2;
              parameters
               real r = 0.022;
             end;
             icon bg bottom
              figures
               text 'GY' 352 128 18 bold;
             end;
             implementation eq
equations
	p1.e = r * p2.f;
	p2.e = r * p1.f;     implementation_end;
            MSe1 192 128
             type MSe
              ports
               power out p;
               signal in effort {V} ;
              restrictions
               causality fixed out p;
             end;
             icon bg
              figures
               text 'MSe' 192 128 18 bold;
             end;
             implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;     implementation_end;
            plug electricity 96 128;
            plug rotation 520 128;
            OneJunction1 424 128
             knot OneJunction
              ports
               rotation knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 424 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
            OneJunction2 280 128
             knot OneJunction
              ports
               electric knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 280 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
           end;
           connections
            OneJunction1\p => CoulombFriction\p;
            OneJunction2\p => ElectricalInductance\p;
            MSe1\p => OneJunction2\p;
            ElectricalResistance\p <= OneJunction2\p;
            OneJunction2\p => MotorConstant\p1;
            MotorConstant\p2 => OneJunction1\p;
            OneJunction1\p => InertiaMotorAxis\p;
            OneJunction1\p => rotation;
            electricity -> MSe1\effort;
           end;
          implementation_end;
         plug MotorVelocity 64 272;
         plug PaperPower 672 96;
         plug PWM 96 112;
         Node3 320 112
          knot Node
           ports
            rotation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 108.8 323.2 115.2 color -1 fill 0;
            ellipse 315.7 107.7 324.3 116.3 color -1;
           terminals
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Pinch 544 112
          type 'Submodel-Graphical'
           ports
            rotation psi in p_rot;
            translation psi out p_trans;
          end;
          icon bg ellipse bottom
           figures
            ellipse 528 96 560 128;
            line 512 112 543.5 112;
            line 544 96 576 96;
           terminals
            p_rot 512 112 fixed;
            p_trans 576 96 fixed;
          end;
          implementation bg
           submodels
            CoulombFriction 248 56
             type Break
              ports
               rotation psi duplicatable in p;
              restrictions
               causality fixed out p;
             end;
             icon bg bottom
              figures
               line 243.7 47.5 243.7 40.5 252.3 40.5 252.3 47.5 width 2;
               line 243.7 64.5 243.7 71.5 252.3 71.5 252.3 64.5 width 2;
               line 248 43.2 248 68.8 width 2;
               line 232 56 264 56;
              terminals
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
             end;
             implementation eq
parameters
	real mu_c = 1.0 {rotational coulomb friction coefficient, m};	// coulomb friction coefficient
	real slope = 1000.0 {s/rad};	// steepness of coulomb friction curve
	real Fn = 0.0022;
variables
	real hidden F,v;
equations
	p.T = if Fn < 0 then 0 else Fn*F end;
	v = p.omega;
	F = mu_c*tanh( slope*v );implementation_end;
            plug p_rot 88 56;
            plug p_trans 512 40;
            PichInertia 328 56
             type Inertia
              ports
               rotation psi duplicatable in p;
              restrictions
               causality preferred in p;
              parameters
               real J = 3.112e-6 {kg.m2/rad}; ""
             end;
             icon ipm bottom
              figures
               rectangle 312 40 344 72 fill 13421772;
               text 'J' 328 56 15 italic;
              terminals
               p 312 56;
               p 312 56;
               p 344 56;
             end;
             implementation eq
variables
	real interesting phi {rad};
	real alpha {rad/s2};
equations
	alpha = p.T / J;
	p.omega = int (alpha);
	phi = int (p.omega); implementation_end;
            Rot2Trans_Paper 424 56
             type BeltPulley
              ports
               rotation psi in p_rot;
               translation psi out p_trans;
              restrictions
               orientation constraint not_equal p_rot p_trans;
               causality constraint not_equal p_rot p_trans;
              parameters
               real radius = 0.0139 {m}; "pulley radius"
             end;
             icon bg ellipse top
              figures
               ellipse 408 40 440 72;
               line 392 56 423.5 56;
               line 424 40 456 40;
              terminals
               p_rot 392 56 fixed;
               p_trans 456 40 fixed;
             end;
             implementation eq
equations
	p_trans.v = radius * p_rot.omega;
	p_rot.T = radius * p_trans.F;    implementation_end;
            ViscousFriction 168 56
             type Bearing
              ports
               rotation psi duplicatable in p;
              parameters
               real d = 2.5e-4 {N.m.s/rad}; ""
             end;
             icon bg bottom
              figures
               group
                line 156.8 70 160.5 65.9;
                line 160.5 70 164.4 65.9;
                line 164.4 70 168.1 65.9;
                line 168.1 70 172.1 65.9;
                line 172.1 70 175.8 65.9;
                line 158.4 66.2 178.1 66.2 width 2;
               end;
               group
                group
                 line 160.9 49.1 165.3 53.9;
                 line 160.9 53.9 165.3 49.1;
                 line 169.8 49.1 174.3 53.9;
                 line 169.8 53.9 174.3 49.1;
                 line 165.3 49.1 169.8 53.9;
                 line 165.1 53.9 169.8 49.1;
                end;
                group
                 line 160.9 58.1 165.3 62.9;
                 line 160.9 62.9 165.3 58.1;
                 line 169.8 58.1 174.3 62.9;
                 line 169.8 62.9 174.3 58.1;
                 line 165.3 58.1 169.8 62.7;
                 line 165.1 62.9 169.9 58;
                end;
               end;
               line 152 56 184 56;
               group
                line 177 46.1 158 46.1 width 2;
                line 178.6 42 174.7 46.1;
                line 174.7 42 171 46.1;
                line 171 42 167 46.1;
                line 167 42 163.3 46.1;
                line 163.3 42 159.6 46.1;
               end;
              terminals
               p 152 56;
               p 152 56;
               p 184 56;
             end;
             implementation eq
equations
	p.T = d * p.omega;implementation_end;
           end;
           connections
            p_rot => ViscousFriction\p;
            ViscousFriction\p => CoulombFriction\p;
            CoulombFriction\p => PichInertia\p;
            PichInertia\p => Rot2Trans_Paper\p_rot;
            Rot2Trans_Paper\p_trans => p_trans;
           end;
          implementation_end;
         Rad2Rev 200 272
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 184.1 256 215.9 288 fill 15132390;
            text 'K' 200 272 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = (input/(2*pi));
implementation_end;
         Splitter2 320 232
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 228.8 323.2 235.2 color -1 fill 0;
            ellipse 315.7 227.7 324.3 236.3 color -1;
           terminals
            input 320 232 fixed;
            output 320 232 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
         implementation_end;
        end;
        connections
         Node3\p => InternalMotorVelocity\p;
         Node3\p => BeltDisturbance_and_Gear\p1;
         Motor\rotation => Node3\p;
         BeltDisturbance_and_Gear\p2 => Pinch\p_rot;
         Pinch\p_trans => PaperPower;
         PWM -> H_Bridge\input;
         Rad2Rev\output -> MotorVelocity;
         InternalMotorVelocity\omega -> Splitter2\input;
         Splitter2\output -> BeltDisturbance_and_Gear\omega 411.2 232.5;
         Splitter2\output -> Rad2Rev\input 320 272;
         H_Bridge\output -> Motor\electricity;
        end;
        figures
         rectangle 128 64 344 312 color 15132390 fill 15132390;
         rectangle 344 64 472 312 color 13421772 fill 13421772;
         rectangle 472 64 624 312 color 15132390 fill 15132390;
         text 'Driving' 232 320 16;
         text 'Coupling' 408 320 16;
         text 'Driven' 544 320 16;
         text 'BeltDisturbance and Gear' 408 80;
       implementation_end;
      Pinch4 538.8 449.6
       type Pinch
        ports
         signal in PWM;
         signal out MotorVelocity;
         translation out PaperPower;
       end;
       icon bg top
        figures
         ellipse 535.6 449.6 565.5 479.6 fill 12895428;
         line 517 449.1 565 449.1;
         ellipse 535 419.6 565 449.6 fill 12895428;
         ellipse 547.9 431.5 552.2 435.7 fill 0;
         ellipse 512 466.7 522.7 477.3 fill 12895428;
         ellipse 540.8 454.9 560 474.1 fill 12895428;
         line 516.3 466.7 549.3 454.9 fill 12895428;
         line 518.4 477.3 551.5 474.1 fill 12895428;
         ellipse 515.2 469.9 519.5 474.1 fill 0;
         ellipse 548.3 462.4 552.5 466.7 fill 0;
        terminals
         PWM 512 472 fixed;
         MotorVelocity 517.3 476.3 fixed;
       end;
       implementation bg
        submodels
         BeltDisturbance_and_Gear 406.3 111.5
          type 'Submodel-Graphical'
           ports
            rotation psi in p1;
            signal in omega;
            rotation psi out p2;
          end;
          icon bg ellipse
           figures
            ellipse 359.3 95.5 391.3 127.5 fill 9211020;
            ellipse 441.3 105.5 453.3 117.4 fill 9211020;
            line 375.3 95.5 448.9 105.6;
            line 375.3 127.5 447.3 117.9;
            ellipse 373.8 109.3 377 112.5 fill 9211020;
            ellipse 445.8 109.9 449 113.1 fill 9211020;
           terminals
            p1 359.9 111.5 fixed;
            omega 411.7 121.6 fixed;
            p2 453.8 111.5 fixed;
          end;
          implementation bg
           submodels
            BeltDisturbance 198.8 73.1
             type Submodel
              ports
               rotation psi duplicatable in p;
               signal in speed;
             end;
             icon bg ellipse top
              figures
               ellipse 151.8 57.1 183.8 89.1 fill 9211020;
               ellipse 233.9 67.1 245.8 79 fill 9211020;
               line 167.8 57.1 241.4 67.2;
               line 167.8 89.1 239.8 79.5;
               ellipse 166.3 70.9 169.5 74.1 fill 9211020;
               ellipse 238.3 71.5 241.5 74.7 fill 9211020;
              terminals
               speed 199.9 87.5 fixed;
               p 151.8 73;
               p 151.8 73;
               p 245.8 72.9;
             end;
             implementation eq
parameters
	real amplitude = 0.0025;

variables
	real pos;
	real belt_velocity;

equations
	belt_velocity = 0.5 * speed / (90.0/37.0);
	pos = int(belt_velocity,0);
	p.T = amplitude * sin(pos)^2;
 implementation_end;
            Filter2 200 144
             type 'Filter-Generic'
              ports
               signal in u;
               signal out y;
             end;
             icon bg
              figures
               rectangle 168 128 232 160 fill 15132390;
               text 'LP-2' 200 138.7 color 16711680 14 bold;
               text 'Butterworth' 200 151.5;
             end;
             implementation eq
// 20-sim Filter Editor
// 'Generic Filter' 2 0.8 10 20 lp butter
variables
	real hidden n[3], d[3];
initialequations
	// create numerator and denominator coefficients
	n = [0.0; 0.0; 25.266187266789];
	d = [1.0; 7.1086127010534; 25.266187266789];
equations
	// the actual dynamic equations
	y = (1/d[1]) * (n[1] * u + int (n[2] * u - d[2] * y + int (n[3] * u - d[3] * y)));
implementation_end;
            Gear 336 84.3
             type Gear
              ports
               rotation psi in p_fast;
               rotation psi out p_slow;
              restrictions
               orientation constraint not_equal p_fast p_slow;
               causality constraint not_equal p_fast p_slow;
              parameters
               real i = -0.4863813229572; "gear ratio p_slow.omega / p_fast.omega [] "
             end;
             icon ipm bottom
              figures
               line 320 71.8 336 71.8;
               line 336 95.8 352 95.8;
               line 333.3 65.4 337.6 65.4 color -1;
               line 332.8 66.5 339.2 66.5 width 2;
               line 336 66.5 336 77.1 width 2;
               line 332.8 77.1 339.2 77.1 width 2;
               line 332.8 80.3 339.2 80.3 width 2;
               line 336 80.3 336 111.3 width 2;
               line 332.8 111.3 339.2 111.3 width 2;
               text '1' 340.8 88.3;
               text 'i' 328 64.3 color 16711680;
              terminals
               p_fast 320 71.8 fixed;
               p_slow 352 95.8 fixed;
             end;
             implementation eq
equations
	p_fast.T = -i * p_slow.T;
	p_slow.omega = -i * p_fast.omega;
                 implementation_end;
            plug p1 72 72;
            plug omega 200 224;
            plug p2 392 96;
           end;
           connections
            p1 => BeltDisturbance\p;
            BeltDisturbance\p => Gear\p_fast;
            Gear\p_slow => p2;
            omega -> Filter2\u;
            Filter2\y -> BeltDisturbance\speed;
           end;
          implementation_end;
         H_Bridge 168 112
          type Gain
           ports
            signal in input;
            signal out output;
           parameters
            real K = 25.0;
          end;
          icon bg bottom
           figures
            rectangle 152.1 96 183.9 128 fill 15132390;
            text 'K' 168 112 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = K * input;
    implementation_end;
         InternalMotorVelocity 320 177.8
          type VelocitySensor
           ports
            rotation psi in p;
            signal out omega {rad/s} ;
            signal out trans_pos {rad} ;
           restrictions
            causality fixed out p;
          end;
          icon bg left
           figures
            line 320 159.9 319.5 183.9;
            ellipse 308.8 173.3 331.2 195.7 fill 16777215;
            text 'V' 320 184.5 15;
           terminals
            p 320 159.9 fixed;
            omega 320 183.9 fixed;
          end;
          implementation eq
variables
	real motor_vel_rev_per_sec;
equations
	p.T = 0;
	omega = p.omega;
	trans_pos = int(omega);
      motor_vel_rev_per_sec = omega / (2 * pi);implementation_end;
         Motor 256 112
          type Submodel
           ports
            signal in electricity;
            rotation out rotation;
          end;
          icon bg bottom
           figures
            rectangle 276.3 109.9 292.6 113.1 fill 15132390;
            rectangle 227.9 95.7 275.9 127.7 fill 15132390;
            line 272 96.3 272 128.3 fill 15132390;
            rectangle 276.8 98.9 280 124.5 fill 15132390;
            text 'DC' 249.6 113.3 color 16711680 14;
            line 227.9 111.2 219.4 111.2 fill 15132390;
          end;
          implementation bg
           submodels
            CoulombFriction 424 200
             type R
              ports
               power in p;
              parameters
               real r = 0.0;
             end;
             icon bg bottom
              figures
               text 'R' 424 200 18 bold;
             end;
             implementation eq
parameters
real radPs = 0.1;
real coulomb = 8.118e-4;
equations

if (abs(p.f) > radPs) then
	p.e =  r * p.f  + coulomb * sign(p.f);
else
	p.e =  r * p.f ;
end;
implementation_end;
            ElectricalInductance 280 56
             type I
              ports
               electric in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 2.38e-4;
             end;
             icon bg top
              figures
               text 'I' 280 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            ElectricalResistance 280 200
             type R
              ports
               power in p;
              parameters
               real r = 2.32;
             end;
             icon bg bottom
              figures
               text 'R' 280 200 18 bold;
             end;
             implementation eq
equations					
	p.e = r * p.f;    implementation_end;
            InertiaMotorAxis 424 56
             type I
              ports
               power in p;
               signal out state;
              restrictions
               causality preferred in p;
              parameters
               real i = 1.07e-6;
             end;
             icon bg top
              figures
               text 'I' 424 56 18 bold;
             end;
             implementation eq
equations
    state = int(p.e);
    p.f = state / i;
     implementation_end;
            MotorConstant 352 128
             type GY
              ports
               power in p1;
               power out p2;
              restrictions
               causality constraint equal p1 p2;
              parameters
               real r = 0.022;
             end;
             icon bg bottom
              figures
               text 'GY' 352 128 18 bold;
             end;
             implementation eq
equations
	p1.e = r * p2.f;
	p2.e = r * p1.f;     implementation_end;
            MSe1 192 128
             type MSe
              ports
               power out p;
               signal in effort {V} ;
              restrictions
               causality fixed out p;
             end;
             icon bg
              figures
               text 'MSe' 192 128 18 bold;
             end;
             implementation eq
variables
	real flow;
equations
	p.e = effort;
	flow = p.f;     implementation_end;
            plug electricity 96 128;
            plug rotation 520 128;
            OneJunction1 424 128
             knot OneJunction
              ports
               rotation knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 424 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
            OneJunction2 280 128
             knot OneJunction
              ports
               electric knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 280 128 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
           end;
           connections
            OneJunction1\p => CoulombFriction\p;
            OneJunction2\p => ElectricalInductance\p;
            MSe1\p => OneJunction2\p;
            ElectricalResistance\p <= OneJunction2\p;
            OneJunction2\p => MotorConstant\p1;
            MotorConstant\p2 => OneJunction1\p;
            OneJunction1\p => InertiaMotorAxis\p;
            OneJunction1\p => rotation;
            electricity -> MSe1\effort;
           end;
          implementation_end;
         plug MotorVelocity 64 272;
         plug PaperPower 672 96;
         plug PWM 96 112;
         Node3 320 112
          knot Node
           ports
            rotation knot psi duplicatable none p [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 108.8 323.2 115.2 color -1 fill 0;
            ellipse 315.7 107.7 324.3 116.3 color -1;
           terminals
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
            p 320 112 fixed;
          end;
          implementation eq
equations
	sum (direct (p.t)) = 0;
	equal (collect (p.a));
  implementation_end;
         Pinch 544 112
          type 'Submodel-Graphical'
           ports
            rotation psi in p_rot;
            translation psi out p_trans;
          end;
          icon bg ellipse bottom
           figures
            ellipse 528 96 560 128;
            line 512 112 543.5 112;
            line 544 96 576 96;
           terminals
            p_rot 512 112 fixed;
            p_trans 576 96 fixed;
          end;
          implementation bg
           submodels
            CoulombFriction 248 56
             type Break
              ports
               rotation psi duplicatable in p;
              restrictions
               causality fixed out p;
             end;
             icon bg bottom
              figures
               line 243.7 47.5 243.7 40.5 252.3 40.5 252.3 47.5 width 2;
               line 243.7 64.5 243.7 71.5 252.3 71.5 252.3 64.5 width 2;
               line 248 43.2 248 68.8 width 2;
               line 232 56 264 56;
              terminals
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
               p 248 56 fixed;
             end;
             implementation eq
parameters
	real mu_c = 1.0 {rotational coulomb friction coefficient, m};	// coulomb friction coefficient
	real slope = 1000.0 {s/rad};	// steepness of coulomb friction curve
	real Fn = 0.0022;
variables
	real hidden F,v;
equations
	p.T = if Fn < 0 then 0 else Fn*F end;
	v = p.omega;
	F = mu_c*tanh( slope*v );implementation_end;
            plug p_rot 88 56;
            plug p_trans 512 40;
            PichInertia 328 56
             type Inertia
              ports
               rotation psi duplicatable in p;
              restrictions
               causality preferred in p;
              parameters
               real J = 3.112e-6 {kg.m2/rad}; ""
             end;
             icon ipm bottom
              figures
               rectangle 312 40 344 72 fill 13421772;
               text 'J' 328 56 15 italic;
              terminals
               p 312 56;
               p 312 56;
               p 344 56;
             end;
             implementation eq
variables
	real interesting phi {rad};
	real alpha {rad/s2};
equations
	alpha = p.T / J;
	p.omega = int (alpha);
	phi = int (p.omega); implementation_end;
            Rot2Trans_Paper 424 56
             type BeltPulley
              ports
               rotation psi in p_rot;
               translation psi out p_trans;
              restrictions
               orientation constraint not_equal p_rot p_trans;
               causality constraint not_equal p_rot p_trans;
              parameters
               real radius = 0.0139 {m}; "pulley radius"
             end;
             icon bg ellipse top
              figures
               ellipse 408 40 440 72;
               line 392 56 423.5 56;
               line 424 40 456 40;
              terminals
               p_rot 392 56 fixed;
               p_trans 456 40 fixed;
             end;
             implementation eq
equations
	p_trans.v = radius * p_rot.omega;
	p_rot.T = radius * p_trans.F;    implementation_end;
            ViscousFriction 168 56
             type Bearing
              ports
               rotation psi duplicatable in p;
              parameters
               real d = 2.5e-4 {N.m.s/rad}; ""
             end;
             icon bg bottom
              figures
               group
                line 156.8 70 160.5 65.9;
                line 160.5 70 164.4 65.9;
                line 164.4 70 168.1 65.9;
                line 168.1 70 172.1 65.9;
                line 172.1 70 175.8 65.9;
                line 158.4 66.2 178.1 66.2 width 2;
               end;
               group
                group
                 line 160.9 49.1 165.3 53.9;
                 line 160.9 53.9 165.3 49.1;
                 line 169.8 49.1 174.3 53.9;
                 line 169.8 53.9 174.3 49.1;
                 line 165.3 49.1 169.8 53.9;
                 line 165.1 53.9 169.8 49.1;
                end;
                group
                 line 160.9 58.1 165.3 62.9;
                 line 160.9 62.9 165.3 58.1;
                 line 169.8 58.1 174.3 62.9;
                 line 169.8 62.9 174.3 58.1;
                 line 165.3 58.1 169.8 62.7;
                 line 165.1 62.9 169.9 58;
                end;
               end;
               line 152 56 184 56;
               group
                line 177 46.1 158 46.1 width 2;
                line 178.6 42 174.7 46.1;
                line 174.7 42 171 46.1;
                line 171 42 167 46.1;
                line 167 42 163.3 46.1;
                line 163.3 42 159.6 46.1;
               end;
              terminals
               p 152 56;
               p 152 56;
               p 184 56;
             end;
             implementation eq
equations
	p.T = d * p.omega;implementation_end;
           end;
           connections
            p_rot => ViscousFriction\p;
            ViscousFriction\p => CoulombFriction\p;
            CoulombFriction\p => PichInertia\p;
            PichInertia\p => Rot2Trans_Paper\p_rot;
            Rot2Trans_Paper\p_trans => p_trans;
           end;
          implementation_end;
         Rad2Rev 200 272
          type Gain
           ports
            signal in input;
            signal out output;
          end;
          icon bg bottom
           figures
            rectangle 184.1 256 215.9 288 fill 15132390;
            text 'K' 200 272 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = (input/(2*pi));
implementation_end;
         Splitter2 320 232
          knot Splitter
           ports
            signal knot duplicatable out output [1];
            signal knot in input [1];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 228.8 323.2 235.2 color -1 fill 0;
            ellipse 315.7 227.7 324.3 236.3 color -1;
           terminals
            input 320 232 fixed;
            output 320 232 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
         implementation_end;
        end;
        connections
         Node3\p => InternalMotorVelocity\p;
         Node3\p => BeltDisturbance_and_Gear\p1;
         Motor\rotation => Node3\p;
         BeltDisturbance_and_Gear\p2 => Pinch\p_rot;
         Pinch\p_trans => PaperPower;
         PWM -> H_Bridge\input;
         Rad2Rev\output -> MotorVelocity;
         InternalMotorVelocity\omega -> Splitter2\input;
         Splitter2\output -> BeltDisturbance_and_Gear\omega 411.2 232.5;
         Splitter2\output -> Rad2Rev\input 320 272;
         H_Bridge\output -> Motor\electricity;
        end;
        figures
         rectangle 128 64 344 312 color 15132390 fill 15132390;
         rectangle 344 64 472 312 color 13421772 fill 13421772;
         rectangle 472 64 624 312 color 15132390 fill 15132390;
         text 'Driving' 232 320 16;
         text 'Coupling' 408 320 16;
         text 'Driven' 544 320 16;
         text 'BeltDisturbance and Gear' 408 80;
       implementation_end;
      QSensor1 360 296
       knot QSensor
        ports
         translation knot in p1 [4,1];
         translation knot out p2 [4,1];
         signal knot out q [4,1];
        restrictions
         causality constraint not_equal p1 p2;
       end;
       icon bg ellipse
        figures
         ellipse 353.1 290.5 366.9 304.3 fill 16777215;
         text 'q' 359.5 294.7;
       end;
       implementation eq
equations
	p2.f = p1.f;
	p1.e = p2.e;
	q = int (p1.f);
     implementation_end;
      SheetIntelligence 337.3 95.9
       type Submodel
        ports
         signal out Rout [4,1];
         signal boolean in Feed;
         translation in pIn [4,1];
         signal out SheetPosition [5,1];
         signal boolean out DetectorFlags [4,1];
        restrictions
         causality preferred in pIn;
       end;
       icon bg
        figures
         image 'Drivetrains\.\OceA4paper.jpg' 279 52 117 88;
        terminals
         Rout 310 143 fixed;
         Feed 310 47 fixed;
         pIn 358 143 fixed;
         SheetPosition 398.5 95 fixed;
         DetectorFlags 358 47 fixed;
       end;
       implementation eq
constants
	integer global NumPinches = 4;
	integer global NumSheets = 5;
	integer ResetInit[NumSheets] = [0.0;0.0;0.0;0.0;0.0];
	integer global NumDetectors = 4;
parameters
	real global SheetWidth;
	real global PinchPositions[NumPinches];
	real global DetectorPositions[NumDetectors];
	real global FrontPinchInfluence;
	real global RearPinchInfluence;
	real global PaperMass;
variables
	integer InPinch[NumSheets,NumPinches];
	integer FrontPinch[NumSheets];
	integer Sheet,Pinch,Detector;
	boolean SheetFed[NumSheets];
	real PrevPinchPosition;
	real Sheet_v[NumSheets];
	real Sheet_F[NumSheets];
	real state[NumSheets];
	boolean SheetResetVel[NumSheets];
	boolean SheetResetPos[NumSheets];
	boolean FeedHigh;
	integer SheetCounter;
	real InterSheetDistance[NumSheets];
	real global ErrorFlag;

//initialequations
//	SheetFed = false;
//	SheetCounter = 0;
//	ErrorFlag = 0;



// end of code block

equations

	// this is for the sorting of equations. Make it part of the equations themselves
	if( time == 0 ) then
		SheetFed = false;
		SheetCounter = 0;
		ErrorFlag = 0;
		SheetResetPos = true;
		SheetResetVel = true;
		Sheet_v = 0;
		InPinch = 0;
	end;



	// Sheet feeding code
	if Feed and not(FeedHigh) then // Check if the feed signal is high and if it came from low (only feed paper on positive edge of feed signal)
		FeedHigh = true; // Set FeedHigh true so that no paper is fed as long as the feed signal didn't get low 
		SheetCounter = if SheetCounter < NumSheets then  // Loop through the sheets and use them when requested
			SheetCounter + 1 
		else 
			1 
		end; 
		if SheetFed[SheetCounter] then
			//stopsimulation('A sheet that is already in the copier is requested. Increase the number of sheets or slow down the system');
			ErrorFlag = 1;
		end;
		SheetFed[SheetCounter] = true; // Actually feed the sheet into the system
		SheetResetPos[SheetCounter] = true;
		SheetPosition[SheetCounter] = 0;
	end;
		
	if not(Feed) then
		FeedHigh = false; // Set FeedHigh false so that a new positive edge can be detected
	end;

	// Sheet inertia calculations
	state = resint(Sheet_F,ResetInit,SheetResetVel,ResetInit);
	Sheet_v = state / PaperMass;
	//Sheet.a = ddt(Sheet.v);
	SheetPosition = resint(Sheet_v, ResetInit, SheetResetPos, ResetInit);
	
	// One junction calculations
	Sheet_F = InPinch * pIn.F; // The force on a sheet is equal to the sum of the pinch forces it is in contact with
	pIn.v = transpose(InPinch) * Sheet_v; // Pinches that are in contact with a sheet have the same velocity as that sheets
	// Take care that there can not be more than one sheet in one pinch. When that is the case, pIn.v will become as large as the sum of the two sheet velocities. 

// end of equations block


code

// This model is only valid when A4 paper is used. Since it is not possible to set the influence of a third pinch.
// Adjustment of the if statement starting with "if PinchPositions[Pinch] >= PrevPinchPosition then" should make this possible

	Rout = 0.0;
	DetectorFlags = false;	

	for Sheet = 1 to NumSheets do // for each sheet, check if it is still in the system and determine which pinch it is in contact with
		// Is the sheet still in the system? The sheet is concidered out of the system when it passed the last element in the system, this can be either a pinch or a detector.
		if ((SheetPosition[Sheet] - SheetWidth) > max(PinchPositions) and (SheetPosition[Sheet] - SheetWidth) > max(DetectorPositions)) or not(SheetFed[Sheet]) then 
			SheetFed[Sheet] = false;
			SheetResetVel[Sheet] = true;
			FrontPinch[Sheet] = 0;
		else 
			SheetFed[Sheet] = true ;
			SheetResetVel[Sheet] = false;
			SheetResetPos[Sheet] = false;

			for Detector = 1 to NumDetectors do
				DetectorFlags[Detector] = if (SheetPosition[Sheet] >= DetectorPositions[Detector]) and ((SheetPosition[Sheet] - SheetWidth) < DetectorPositions[Detector]) and SheetFed[Sheet] then true else DetectorFlags[Detector] end;
			end;
			PrevPinchPosition = min(PinchPositions);
			for Pinch=NumPinches to 1 by -1 do
				// Check if the sheet is in the pinch:
				if (SheetPosition[Sheet] >= PinchPositions[Pinch]) and ((SheetPosition[Sheet] - SheetWidth) < PinchPositions[Pinch]) and SheetFed[Sheet] then 
					InPinch[Sheet,Pinch] = 1;
					if PinchPositions[Pinch] >= PrevPinchPosition then  // Check what the role of the pinches in contact with the sheet is 
						Rout[Pinch] = Rout[Pinch] + FrontPinchInfluence; // The front pinch has more influence on the paper than the rear pinch
						PrevPinchPosition = PinchPositions[Pinch];
						FrontPinch[Sheet] = Pinch;
					else 
						Rout[Pinch] = Rout[Pinch] + RearPinchInfluence; // This pinch has the role of rear pinch with this sheet
						if FrontPinch[Sheet] <> 0 and Sheet_v[Sheet] < (pIn.v[FrontPinch[Sheet]-1]) then //Sheet moves slower than rear pinch
							//stopsimulation('Front Pinch runs faster that rear pinch!');
							ErrorFlag = 1;
						end;	
					end;
				else 
					InPinch[Sheet,Pinch] = 0; // Sheet is not in this pinch
				end;
			end;

		end; 
				
		InterSheetDistance[Sheet] = SheetPosition[Sheet] - SheetWidth - SheetPosition[ round((Sheet mod NumSheets) + 1) ];	
		if InterSheetDistance[Sheet] <= 0 and SheetFed[Sheet] and SheetFed[ round((Sheet mod NumSheets) + 1) ] then
				//stopsimulation('Paper colision, sum of pinches that pinch a paper is larger than the number of pinches');
				ErrorFlag = 1;
		end;
	end;implementation_end;
      Submodel6 295.5 575.5
       type Submodel
        ports
         signal in input [4,1];
         signal out out1;
         signal out out2;
         signal out out3;
         signal out out4;
       end;
       icon bg
        figures
         rectangle 271.5 571.5 319.5 579.5 fill 0;
        terminals
         input 296 583.9 fixed;
         out1 280 567.9 fixed;
         out2 288 567.9 fixed;
         out3 304 567.9 fixed;
         out4 312 567.9 fixed;
       end;
       implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  input = [out1;out2;out3;out4];
 implementation_end;
      Submodel7 407.5 576.4
       type Submodel
        ports
         signal out output [4,1];
         signal in in1;
         signal in in2;
         signal in in3;
         signal in in4;
       end;
       icon bg
        figures
         rectangle 383.5 572.4 431.5 580.4 fill 0;
        terminals
         output 408 584.9 fixed;
         in1 392 568.9 fixed;
         in2 400 568.9 fixed;
         in3 416 568.9 fixed;
         in4 424 568.9 fixed;
       end;
       implementation eq
/* Equation Submodel
Enter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).
*/
equations
  // start typing here
  output = [in1;in2;in3;in4];
 implementation_end;
      ZeroJunction1 360 224
       knot ZeroJunction
        ports
         translation knot duplicatable none p [4,1];
         signal knot out effort [4,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 360 224 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
    implementation_end;
     end;
     connections
      Gather\pOut => QSensor1\p1;
      ZeroJunction1\p => SheetIntelligence\pIn;
      ZeroJunction1\p => FrictionModel\p;
      QSensor1\p2 => ZeroJunction1\p;
      Pinch1\PaperPower => Gather\p1;
      Pinch2\PaperPower => Gather\p2;
      Pinch3\PaperPower => Gather\p3;
      Gather\p4 <= Pinch4\PaperPower;
      SheetIntelligence\Rout -> FrictionModel\S 312 176 264 176;
      SheetIntelligence\SheetPosition -> Animation\SheetPosition 504 96;
      QSensor1\q -> Animation\input;
      SheetIntelligence\DetectorFlags -> PaperDetectors 360 24;
      FeedSheet -> SheetIntelligence\Feed 312 24;
      Submodel7\output -> ENC;
      Pinch1\MotorVelocity -> Submodel7\in1;
      Pinch2\MotorVelocity -> Submodel7\in2;
      Pinch3\MotorVelocity -> Submodel7\in3;
      Pinch4\MotorVelocity -> Submodel7\in4;
      Submodel6\input <- PWM;
      Submodel6\out1 -> Pinch1\PWM;
      Submodel6\out2 -> Pinch2\PWM;
      Submodel6\out3 -> Pinch3\PWM;
      Submodel6\out4 -> Pinch4\PWM;
     end;
     figures
      text 'How to add another Pinch: (let x be the current numbe rof pinches)
1) insert the pinch (model+control)
2) add the location to the PinchPositions array in the GlobalParamters
submodel
3) increase the NumPinches value to x+1 in submoel 
SheetIntelligence (should be GlobalParameters after 20-Sim bug fix)
4) edit the gather ports
	a) add an input power port (copy settings from p1)
	b) set pOut to be of size x+1 by 1
5) add your newly built port to the equations in the gather model (eg. 
pOut.F = [p1.F; p2.F; p3.F];)
6) set pIn and Rout of submodel SheetIntelligence to size x+1 by 1
7) set p and S of submodel FrictionModel to size x+1 by 1
8) delete the 0-junction, put a new junction in and connect it again
9) increase the NumPinches value to x+1 in submoel 
SheetIntelligence (should be GlobalParameters after 20-Sim bug fix)
    
Remark: at the moment it is not advised to add a pinch between other 
pinches. Only adding pinches at the end is supported.' 880 216 16;
    implementation_end;
   Sample 464 304
    type Sample
     ports
      signal in input [4,1];
      signal out output [4,1];
    end;
    icon bg bottom
     figures
      rectangle 448 288 480 320 fill 15132390;
      line 450.3 294.8 453.2 294.8 453.2 290.9 457.3 290.9 457.3 294.8 461.2 294.8 461.2 290.9 463.1 290.9 color 16711680 fill 15132390;
      line 463.5 296.4 465.7 296.4 465.7 302.4 466.6 300.9 fill 15132390;
      line 465 301.1 465.7 302.4 fill 15132390;
      line 451.9 307.9 459.9 307.9 472 304 fill 15132390 width 2;
    end;
    implementation eq
equations
	output = sample (input);
      implementation_end;
   Splitter1 376 272
    knot Splitter
     ports
      signal knot duplicatable out output [4,1];
      signal knot in input [4,1];
    end;
    icon bg ellipse
     figures
      ellipse 372.8 268.8 379.2 275.2 color -1 fill 0;
      ellipse 371.7 267.7 380.3 276.3 color -1;
     terminals
      input 376 272 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
         implementation_end;
   w 240 376
    type SignalMonitor
     ports
      signal in input;
    end;
    icon bg
     figures
      rectangle 224 360 256 392 fill 15132390;
      rectangle 229.7 365.8 250.3 386.6 color 16711680 fill 11776947 width 2;
      rectangle 231.8 368.4 247.9 384 color -1 fill 16777215;
      line 233.9 370.7 233.9 382 fill 16777215;
      line 232 380.4 244.5 380.4 fill 16777215;
      line 233.5 380.1 246.4 373.7 color 255 fill 16777215;
    end;
    implementation eq
variables
	real interesting plot;
equations
	plot = input;
   implementation_end;
  end;
  connections
   w\input <- Control\PWM_PIM 144 376 144 208;
   Hold\output -> PlantModel\FeedSheet 672 128;
   BoolToReal\output -> Sample\input;
   PlantModel\ENC -> IO\ENC_In 616 240 528 240;
   Control\PWM -> IO\PWM_In 288 160 376 160;
   IO\PWM_Out -> PlantModel\PWM 528 160 616 160;
   MultiplyDivide1\output -> Control\ENC 288 240;
   Sample\output -> MultiplyDivide2\multiply;
   MultiplyDivide2\output -> Control\PaperDetectors 216 304;
   Splitter1\output -> MultiplyDivide2\multiply;
   JobStartSwitchEmlator\output -> Control\JobStart;
   PaperPresenceEmulator\output -> Control\paperPresent;
   PlantModel\PaperDetectors -> BoolToReal\input;
   One\output -> Control\ENC_PIM 128 416 128 192;
   MultiplyDivide1\multiply <- IO\ENC_Out;
   One2\output -> Splitter1\input;
   Splitter1\output -> MultiplyDivide1\multiply;
   Control\FeedSheet -> Hold\input 216 128;
  end;
  figures
   rectangle 176 352 304 456 fill 15132390;
   text 'PIM Dummy Signals' 240 440 16;
 implementation_end;
]]>
</Sidops>
 </Model>
 <Experiments>
     <DefaultExperiment><![CDATA[Converted Experiment]]>
</DefaultExperiment>
  <Experiment>
    <Name>Converted Experiment</Name>
    <CreatedBy></CreatedBy>
    <Info></Info>
<ExpData>
  <VersionNumber>4.1</VersionNumber>
  <ModelProperties>
  </ModelProperties>
  <Variables>
   <Constants>
    <Variable>
     <Name>NumPinches</Name>
     <ArithmeticType>integer</ArithmeticType>
     <Value>4</Value>
    </Variable>
    <Variable>
     <Name>NumSheets</Name>
     <ArithmeticType>integer</ArithmeticType>
     <Value>5</Value>
    </Variable>
   </Constants>
   <Parameters>
    <Variable>
     <Name>Control\Node_1\SequenceController1\rot2trans</Name>
     <Value>0.042487917942063</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\SequenceController2\rot2trans</Name>
     <Value>0.042487917942063</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\SequenceController3\rot2trans</Name>
     <Value>0.042487917942063</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_3\SequenceController4\rot2trans</Name>
     <Value>0.042487917942063</Value>
    </Variable>
    <Variable>
     <Name>Control\Supervisor\rot2trans</Name>
     <Value>0.042487917942063</Value>
    </Variable>
   </Parameters>
   <Initials>
    <Variable>
     <Name>PlantModel\Pinch1\BeltDisturbance_and_Gear\Filter2\y_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch1\BeltDisturbance_and_Gear\Filter2\y_state_dot_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch1\InternalMotorVelocity\trans_pos_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch1\Motor\ElectricalInductance\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch1\Motor\InertiaMotorAxis\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch1\Pinch\PichInertia\phi_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch2\BeltDisturbance_and_Gear\Filter2\y_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch2\BeltDisturbance_and_Gear\Filter2\y_state_dot_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch2\InternalMotorVelocity\trans_pos_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch2\Motor\ElectricalInductance\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch2\Motor\InertiaMotorAxis\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch2\Pinch\PichInertia\phi_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch3\BeltDisturbance_and_Gear\Filter2\y_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch3\BeltDisturbance_and_Gear\Filter2\y_state_dot_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch3\InternalMotorVelocity\trans_pos_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch3\Motor\ElectricalInductance\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch3\Motor\InertiaMotorAxis\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch3\Pinch\PichInertia\phi_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch4\BeltDisturbance_and_Gear\Filter2\y_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch4\BeltDisturbance_and_Gear\Filter2\y_state_dot_state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch4\InternalMotorVelocity\trans_pos_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch4\Motor\ElectricalInductance\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch4\Motor\InertiaMotorAxis\state_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\Pinch4\Pinch\PichInertia\phi_initial</Name>
     <Unit>rad</Unit>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\QSensor1\q_initial</Name>
     <Rows>4</Rows>
     <Columns>1</Columns>
     <Unit>m</Unit>
     <Value>0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>PlantModel\SheetIntelligence\SheetPosition_initial</Name>
     <Rows>5</Rows>
     <Columns>1</Columns>
     <Value>0 0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay10\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay11\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay12\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay13\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay14\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay1\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay2\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay3\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay5\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay6\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay7\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Delay8\input_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\LoopController1\PID5\error_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\LoopController1\PID5\uD_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\LoopController1\PID5\uI_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\LoopControllerPIM\PID5\error_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\LoopControllerPIM\PID5\uD_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\LoopControllerPIM\PID5\uI_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\SequenceController1\Ref_PIM_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_1\SequenceController1\Ref_pinch1_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\LoopController2\PID5\error_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\LoopController2\PID5\uD_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\LoopController2\PID5\uI_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\LoopController3\PID5\error_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\LoopController3\PID5\uD_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\LoopController3\PID5\uI_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\SequenceController2\Reference_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_2\SequenceController3\Reference_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_3\LoopController4\PID5\error_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_3\LoopController4\PID5\uD_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_3\LoopController4\PID5\uI_previous_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>Control\Node_3\SequenceController4\Reference_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>IO\Delay2\output_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>IO\Delay3\output_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>IO\Delay4\output_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>IO\Delay\output_initial</Name>
     <Value>0</Value>
    </Variable>
   </Initials>
  </Variables>
  <PlotSpecs>
   <VarNames>
    <VarName>time</VarName>
    <VarName>PlantModel\Pinch1\PaperPower.v</VarName>
    <VarName>PlantModel\Pinch2\PaperPower.v</VarName>
    <VarName>PlantModel\Pinch3\PaperPower.v</VarName>
    <VarName>PlantModel\Pinch4\PaperPower.v</VarName>
    <VarName>PlantModel\SheetIntelligence\SheetPosition[1]</VarName>
    <VarName>PlantModel\Animation\SheetHeight[1]</VarName>
    <VarName>PlantModel\SheetIntelligence\SheetPosition[2]</VarName>
    <VarName>PlantModel\Animation\SheetHeight[2]</VarName>
    <VarName>PlantModel\SheetIntelligence\SheetPosition[3]</VarName>
    <VarName>PlantModel\Animation\SheetHeight[3]</VarName>
    <VarName>PlantModel\SheetIntelligence\SheetPosition[4]</VarName>
    <VarName>PlantModel\Animation\SheetHeight[4]</VarName>
    <VarName>PlantModel\SheetIntelligence\SheetPosition[5]</VarName>
    <VarName>PlantModel\Animation\SheetHeight[5]</VarName>
    <VarName>DetectorPositions[1]</VarName>
    <VarName>PlantModel\SheetIntelligence\DetectorFlags[1]</VarName>
    <VarName>DetectorPositions[2]</VarName>
    <VarName>PlantModel\SheetIntelligence\DetectorFlags[2]</VarName>
    <VarName>DetectorPositions[3]</VarName>
    <VarName>PlantModel\SheetIntelligence\DetectorFlags[3]</VarName>
    <VarName>DetectorPositions[4]</VarName>
    <VarName>PlantModel\SheetIntelligence\DetectorFlags[4]</VarName>
    <VarName>PinchPositions[1]</VarName>
    <VarName>PlantModel\Animation\PinchAngleTop[1]</VarName>
    <VarName>PlantModel\Animation\PinchAngleBottom[1]</VarName>
    <VarName>PinchPositions[2]</VarName>
    <VarName>PlantModel\Animation\PinchAngleTop[2]</VarName>
    <VarName>PlantModel\Animation\PinchAngleBottom[2]</VarName>
    <VarName>PinchPositions[3]</VarName>
    <VarName>PlantModel\Animation\PinchAngleTop[3]</VarName>
    <VarName>PlantModel\Animation\PinchAngleBottom[3]</VarName>
    <VarName>PinchPositions[4]</VarName>
    <VarName>PlantModel\Animation\PinchAngleTop[4]</VarName>
    <VarName>PlantModel\Animation\PinchAngleBottom[4]</VarName>
    <VarName>PlantModel\Animation\FinisherSidePosition</VarName>
    <VarName>PlantModel\Animation\FinisherBackPosition</VarName>
    <VarName>PlantModel\PaperDetectors[1]</VarName>
    <VarName>PlantModel\PaperDetectors[2]</VarName>
    <VarName>PlantModel\PaperDetectors[3]</VarName>
    <VarName>PlantModel\PaperDetectors[4]</VarName>
    <VarName>Control\Node_1\SequenceController1\Ref_pinch1_v</VarName>
    <VarName>Control\Node_2\SequenceController2\Reference_v</VarName>
    <VarName>Control\Node_2\SequenceController3\Reference_v</VarName>
    <VarName>Control\Node_3\SequenceController4\v_ref</VarName>
    <VarName>Control\Node_1\SequenceController1\Ref_PIM_v</VarName>
    <VarName>Control\Supervisor\arrivalError</VarName>
    <VarName>PlantModel\SheetIntelligence\Sheet.v[1]</VarName>
   </VarNames>
   <Plots>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <UseWindowsBGColor>false</UseWindowsBGColor>
       <BGColor>16777215</BGColor>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>Paper Path Setup</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>false</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>1</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Vel Pinch 1</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Vel Pinch 2</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Vel Pinch 3</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Vel Pinch 4</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Ref SQ1 (pinch1)</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Ref SQ2</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Ref SQ3</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Ref SQ4</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Ref SQ1 (PIM)</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>arrivalError</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\Pinch1\PaperPower.v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\Pinch2\PaperPower.v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>65280</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>65280</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\Pinch3\PaperPower.v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>0</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>0</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\Pinch4\PaperPower.v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>10040319</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>10040319</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Control\Node_1\SequenceController1\Ref_pinch1_v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16763904</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16763904</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Control\Node_2\SequenceController2\Reference_v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>26367</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>26367</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Control\Node_2\SequenceController3\Reference_v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>3368448</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>3368448</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Control\Node_3\SequenceController4\v_ref</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>6160384</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16764108</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Control\Node_1\SequenceController1\Ref_PIM_v</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>0</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16764108</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>0</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Control\Supervisor\arrivalError</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
     <StripChartPlots>
      <DistributState>2</DistributState>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
     </StripChartPlots>
    </Plot>
    <Plot>
     <PlotType>D3DPlot</PlotType>
     <BasePlot>
       <UseWindowsBGColor>false</UseWindowsBGColor>
       <BGColor>13160660</BGColor>
     </BasePlot>
     <RenderQuality>137</RenderQuality>
     <ShowGrid>false</ShowGrid>
     <BackgroundColor>4291683300</BackgroundColor>
     <FrameScale>1</FrameScale>
     <FrameThickness>1</FrameThickness>
     <MainFrame>
      <Frame>
       <ScaleValue>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </ScaleValue>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Reference Frame</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Default Lights and Cameras</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Ambient Light</Name>
      <Position>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>0</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.392157</Value>
        </X>
        <Y>
         <Value>0.392157</Value>
        </Y>
        <Z>
         <Value>0.392157</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <AmbientLight>
       <Color>
        <X>
         <Value>0.392157</Value>
        </X>
        <Y>
         <Value>0.392157</Value>
        </Y>
        <Z>
         <Value>0.392157</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </AmbientLight>
      <AmbientOn>true</AmbientOn>
      <DiffuseOn>false</DiffuseOn>
      <SpecularOn>false</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Directional Light</Name>
      <Position>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.206284057762329</Value>
        </X>
        <Y>
         <Value>-0.928279259930761</Value>
        </Y>
        <Z>
         <Value>-0.309426086643494</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.218218080712227</Value>
        </X>
        <Y>
         <Value>0.436436161424455</Value>
        </Y>
        <Z>
         <Value>-0.872871322848539</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>3</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.501961</Value>
        </X>
        <Y>
         <Value>0.501961</Value>
        </Y>
        <Z>
         <Value>0.501961</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0</Value>
       </Linear>
       <Quadratic>
        <Value>0</Value>
       </Quadratic>
      </Attenuation>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.501961</Value>
        </X>
        <Y>
         <Value>0.501961</Value>
        </Y>
        <Z>
         <Value>0.501961</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.501961</Value>
        </X>
        <Y>
         <Value>0.501961</Value>
        </Y>
        <Z>
         <Value>0.501961</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Camera Looking At Origin</Name>
      <Position>
       <X>
        <Value>3.16512646971058</Value>
       </X>
       <Y>
        <Value>1.61687798811959</Value>
       </Y>
       <Z>
        <Value>1.52836829629793</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.821557001030129</Value>
        </X>
        <Y>
         <Value>-0.367772359772902</Value>
        </Y>
        <Z>
         <Value>-0.435646170011228</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>-0.397623601356062</Value>
        </X>
        <Y>
         <Value>-0.177997351356945</Value>
        </Y>
        <Z>
         <Value>0.900118000350259</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.00074176493209759</Field>
      <Fieldy>8.5</Fieldy>
      <PlaneLeft>-0.5</PlaneLeft>
      <PlaneRight>0.5</PlaneRight>
      <PlaneTop>0.5</PlaneTop>
      <PlaneBottom>-0.5</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
       <Y>
        <Value>0.2</Value>
       </Y>
       <Z>
        <Value>-0.15</Value>
       </Z>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>true</Perspective>
      <IsSelectedCamera>true</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Front(XY)-Camera</Name>
      <Position>
       <Y>
        <Value>0.8</Value>
       </Y>
       <Z>
        <Value>10</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.0199600000794807</Value>
        </X>
        <Y>
         <Value>-0.0598800002384422</Value>
        </Y>
        <Z>
         <Value>-0.99800600397406</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.00119699950404191</Value>
        </X>
        <Y>
         <Value>0.998205586409073</Value>
        </Y>
        <Z>
         <Value>-0.0598679751946376</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>1</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.900404</Field>
      <Fieldy>103.178698113395</Fieldy>
      <PlaneLeft>-0.900404</PlaneLeft>
      <PlaneRight>0.900404</PlaneRight>
      <PlaneTop>0.900404</PlaneTop>
      <PlaneBottom>-0.900404</PlaneBottom>
      <UseLookatPosition>false</UseLookatPosition>
      <LookatPosition>
       <X>
        <Value>0.2</Value>
       </X>
       <Y>
        <Value>0.2</Value>
       </Y>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Y>
        <Value>1</Value>
       </Y>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Side(YZ)-Camera</Name>
      <Position>
       <X>
        <Value>11</Value>
       </X>
       <Z>
        <Value>3</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.964532040423056</Value>
        </X>
        <Y>
         <Value>0.0219210009186982</Value>
        </Y>
        <Z>
         <Value>-0.263054011024462</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>-0.262986034360969</Value>
        </X>
        <Y>
         <Value>0.00597700078093704</Value>
        </Y>
        <Z>
         <Value>0.964781126055416</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>1</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.605622</Field>
      <Fieldy>69.3991691605439</Fieldy>
      <PlaneLeft>-0.605622</PlaneLeft>
      <PlaneRight>0.605622</PlaneRight>
      <PlaneTop>0.605622</PlaneTop>
      <PlaneBottom>-0.605622</PlaneBottom>
      <UseLookatPosition>false</UseLookatPosition>
      <LookatPosition>
       <Y>
        <Value>0.25</Value>
       </Y>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
         </Childs>
        </Frame>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Scenery</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Sheets</Name>
      <Position>
       <X>
        <Value>0.03</Value>
       </X>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Sheet1</Name>
        <Position>
         <Y>
     <VariableName>PlantModel\SheetIntelligence\SheetPosition[1]</VariableName>
     <Value>0</Value>
         </Y>
         <Z>
     <VariableName>PlantModel\Animation\SheetHeight[1]</VariableName>
     <Value>0.025</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.29</Value>
      </X>
      <Y>
       <Value>0.21</Value>
      </Y>
      <Z>
       <Value>0.001</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <Texture>
      <Filename><![CDATA[clp.bmp]]>
</Filename>
      <WrapStyle>0</WrapStyle>
      <YWrap>
       <Y>
        <Value>1</Value>
       </Y>
      </YWrap>
      <ZWrap>
       <Z>
        <Value>1</Value>
       </Z>
      </ZWrap>
      <XOrigin>
       <Value>0.5</Value>
      </XOrigin>
      <YOrigin>
       <Value>0.5</Value>
      </YOrigin>
     </Texture>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.145</Value>
      </X>
      <Y>
       <Value>-0.105</Value>
      </Y>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Sheet2</Name>
        <Position>
         <Y>
     <VariableName>PlantModel\SheetIntelligence\SheetPosition[2]</VariableName>
     <Value>0</Value>
         </Y>
         <Z>
     <VariableName>PlantModel\Animation\SheetHeight[2]</VariableName>
     <Value>0.025</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.29</Value>
      </X>
      <Y>
       <Value>0.21</Value>
      </Y>
      <Z>
       <Value>0.001</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <Texture>
      <Filename><![CDATA[clp.bmp]]>
</Filename>
      <WrapStyle>0</WrapStyle>
      <YWrap>
       <Y>
        <Value>1</Value>
       </Y>
      </YWrap>
      <ZWrap>
       <Z>
        <Value>1</Value>
       </Z>
      </ZWrap>
      <XOrigin>
       <Value>0.5</Value>
      </XOrigin>
      <YOrigin>
       <Value>0.5</Value>
      </YOrigin>
     </Texture>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.145</Value>
      </X>
      <Y>
       <Value>-0.105</Value>
      </Y>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Sheet3</Name>
        <Position>
         <Y>
     <VariableName>PlantModel\SheetIntelligence\SheetPosition[3]</VariableName>
     <Value>0</Value>
         </Y>
         <Z>
     <VariableName>PlantModel\Animation\SheetHeight[3]</VariableName>
     <Value>0.025</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.29</Value>
      </X>
      <Y>
       <Value>0.21</Value>
      </Y>
      <Z>
       <Value>0.001</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <Texture>
      <Filename><![CDATA[clp.bmp]]>
</Filename>
      <WrapStyle>0</WrapStyle>
      <YWrap>
       <Y>
        <Value>1</Value>
       </Y>
      </YWrap>
      <ZWrap>
       <Z>
        <Value>1</Value>
       </Z>
      </ZWrap>
      <XOrigin>
       <Value>0.5</Value>
      </XOrigin>
      <YOrigin>
       <Value>0.5</Value>
      </YOrigin>
     </Texture>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.145</Value>
      </X>
      <Y>
       <Value>-0.105</Value>
      </Y>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Sheet4</Name>
        <Position>
         <Y>
     <VariableName>PlantModel\SheetIntelligence\SheetPosition[4]</VariableName>
     <Value>0</Value>
         </Y>
         <Z>
     <VariableName>PlantModel\Animation\SheetHeight[4]</VariableName>
     <Value>0.025</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.29</Value>
      </X>
      <Y>
       <Value>0.21</Value>
      </Y>
      <Z>
       <Value>0.001</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <Texture>
      <Filename><![CDATA[clp.bmp]]>
</Filename>
      <WrapStyle>0</WrapStyle>
      <YWrap>
       <Y>
        <Value>1</Value>
       </Y>
      </YWrap>
      <ZWrap>
       <Z>
        <Value>1</Value>
       </Z>
      </ZWrap>
      <XOrigin>
       <Value>0.5</Value>
      </XOrigin>
      <YOrigin>
       <Value>0.5</Value>
      </YOrigin>
     </Texture>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.145</Value>
      </X>
      <Y>
       <Value>-0.105</Value>
      </Y>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Sheet5</Name>
        <Position>
         <Y>
     <VariableName>PlantModel\SheetIntelligence\SheetPosition[5]</VariableName>
     <Value>0</Value>
         </Y>
         <Z>
     <VariableName>PlantModel\Animation\SheetHeight[5]</VariableName>
     <Value>0.025</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.29</Value>
      </X>
      <Y>
       <Value>0.21</Value>
      </Y>
      <Z>
       <Value>0.001</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <Texture>
      <Filename><![CDATA[clp.bmp]]>
</Filename>
      <WrapStyle>0</WrapStyle>
      <YWrap>
       <Y>
        <Value>1</Value>
       </Y>
      </YWrap>
      <ZWrap>
       <Z>
        <Value>1</Value>
       </Z>
      </ZWrap>
      <XOrigin>
       <Value>0.5</Value>
      </XOrigin>
      <YOrigin>
       <Value>0.5</Value>
      </YOrigin>
     </Texture>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.145</Value>
      </X>
      <Y>
       <Value>-0.105</Value>
      </Y>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>DummySheet</Name>
        <Position>
         <Z>
     <Value>0.0245</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.29</Value>
      </X>
      <Y>
       <Value>0.21</Value>
      </Y>
      <Z>
       <Value>0.001</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <Texture>
      <Filename><![CDATA[clp.bmp]]>
</Filename>
      <WrapStyle>0</WrapStyle>
      <YWrap>
       <Y>
        <Value>1</Value>
       </Y>
      </YWrap>
      <ZWrap>
       <Z>
        <Value>1</Value>
       </Z>
      </ZWrap>
      <XOrigin>
       <Value>0.5</Value>
      </XOrigin>
      <YOrigin>
       <Value>0.5</Value>
      </YOrigin>
     </Texture>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.145</Value>
      </X>
      <Y>
       <Value>-0.105</Value>
      </Y>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>SheetDetectors</Name>
      <Position>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>SD_1</Name>
        <Position>
         <X>
     <Value>0.33</Value>
         </X>
         <Y>
     <VariableName>DetectorPositions[1]</VariableName>
     <Value>0.012</Value>
         </Y>
         <Z>
     <Value>0.04</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
     <Y>
      <Value>1.5708</Value>
     </Y>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.015</Value>
      </X>
      <Y>
       <Value>0.015</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[1]</VariableName>
       <Value>0</Value>
      </X>
      <Y>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[1]</VariableName>
       <Value>0</Value>
      </Y>
      <Z>
       <Value>0</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
      <Y>
       <Value>1</Value>
      </Y>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cone</Name>
     <Position>
      <Z>
       <Value>0.01</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>SD_2</Name>
        <Position>
         <X>
     <Value>0.33</Value>
         </X>
         <Y>
     <VariableName>DetectorPositions[2]</VariableName>
     <Value>0.186</Value>
         </Y>
         <Z>
     <Value>0.04</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
     <Y>
      <Value>1.5708</Value>
     </Y>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.015</Value>
      </X>
      <Y>
       <Value>0.015</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[2]</VariableName>
       <Value>0</Value>
      </X>
      <Y>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[2]</VariableName>
       <Value>0</Value>
      </Y>
      <Z>
       <Value>0</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
      <Y>
       <Value>1</Value>
      </Y>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cone</Name>
     <Position>
      <Z>
       <Value>0.01</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>SD_3</Name>
        <Position>
         <X>
     <Value>0.33</Value>
         </X>
         <Y>
     <VariableName>DetectorPositions[3]</VariableName>
     <Value>0.361</Value>
         </Y>
         <Z>
     <Value>0.04</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
     <Y>
      <Value>1.5708</Value>
     </Y>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.015</Value>
      </X>
      <Y>
       <Value>0.015</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[3]</VariableName>
       <Value>0</Value>
      </X>
      <Y>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[3]</VariableName>
       <Value>0</Value>
      </Y>
      <Z>
       <Value>0</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
      <Y>
       <Value>1</Value>
      </Y>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cone</Name>
     <Position>
      <Z>
       <Value>0.01</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>SD_3</Name>
        <Position>
         <X>
     <Value>0.33</Value>
         </X>
         <Y>
     <VariableName>DetectorPositions[4]</VariableName>
     <Value>0.537</Value>
         </Y>
         <Z>
     <Value>0.04</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
     <Y>
      <Value>1.5708</Value>
     </Y>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.5</LowerRadius>
     <UpperRadius>0</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>true</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>0.015</Value>
      </X>
      <Y>
       <Value>0.015</Value>
      </Y>
      <Z>
       <Value>0.02</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[4]</VariableName>
       <Value>0</Value>
      </X>
      <Y>
       <VariableName>PlantModel\SheetIntelligence\DetectorFlags[4]</VariableName>
       <Value>0</Value>
      </Y>
      <Z>
       <Value>0</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
      <Y>
       <Value>1</Value>
      </Y>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cone</Name>
     <Position>
      <Z>
       <Value>0.01</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Pinches</Name>
      <Position>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Pinch_1</Name>
        <Position>
         <Y>
     <VariableName>PinchPositions[1]</VariableName>
     <Value>-0.03</Value>
         </Y>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_top</Name>
     <Position>
      <Z>
       <Value>0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleTop[1]</VariableName>
        <Value>0</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_bottom</Name>
     <Position>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleBottom[1]</VariableName>
        <Value>0</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.02</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.02</Value>
      </X>
      <Z>
       <Value>-0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.08</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.332</Value>
      </X>
      <Y>
       <Value>0.02</Value>
      </Y>
      <Z>
       <Value>-0.03</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Pinch_2</Name>
        <Position>
         <Y>
     <VariableName>PinchPositions[2]</VariableName>
     <Value>0.175</Value>
         </Y>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_top</Name>
     <Position>
      <Z>
       <Value>0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleTop[2]</VariableName>
        <Value>-2191.58359950843</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_bottom</Name>
     <Position>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleBottom[2]</VariableName>
        <Value>2191.58359950843</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.02</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.02</Value>
      </X>
      <Z>
       <Value>-0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.03</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.33</Value>
      </X>
      <Y>
       <Value>0.005</Value>
      </Y>
      <Z>
       <Value>-0.03</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Pinch_3</Name>
        <Position>
         <Y>
     <VariableName>PinchPositions[3]</VariableName>
     <Value>0.35</Value>
         </Y>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_top</Name>
     <Position>
      <Z>
       <Value>0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleTop[3]</VariableName>
        <Value>-2191.58359950843</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_bottom</Name>
     <Position>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleBottom[3]</VariableName>
        <Value>2191.58359950843</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.02</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.02</Value>
      </X>
      <Z>
       <Value>-0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.03</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.33</Value>
      </X>
      <Y>
       <Value>0.005</Value>
      </Y>
      <Z>
       <Value>-0.03</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Pinch_4</Name>
        <Position>
         <Y>
     <VariableName>PinchPositions[4]</VariableName>
     <Value>0.525</Value>
         </Y>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_top</Name>
     <Position>
      <Z>
       <Value>0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleTop[4]</VariableName>
        <Value>-2620.53792337055</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Frame>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Pinch1_bottom</Name>
     <Position>
     </Position>
     <Orientation>
      <Angles>
       <X>
        <VariableName>PlantModel\Animation\PinchAngleBottom[4]</VariableName>
        <Value>2620.53792337055</Value>
       </X>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.01</Value>
        </X>
        <Y>
         <Value>0.01</Value>
        </Y>
        <Z>
         <Value>0.35</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\Bowtie.bmp]]>
</Filename>
        <WrapStyle>2</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Rod</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.1</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
      <Cylinder>
       <CircleElements>16</CircleElements>
       <LowerRadius>0.5</LowerRadius>
       <UpperRadius>0.5</UpperRadius>
       <Height>1</Height>
       <Closed>true</Closed>
       <LowerClosed>true</LowerClosed>
       <UpperClosed>true</UpperClosed>
       <CenterInOrigin>false</CenterInOrigin>
       <ShowInnerSide>false</ShowInnerSide>
       <ShowOuterSide>true</ShowOuterSide>
       <ScaleValue>
        <X>
         <Value>0.05</Value>
        </X>
        <Y>
         <Value>0.05</Value>
        </Y>
        <Z>
         <Value>0.02</Value>
        </Z>
       </ScaleValue>
       <OverrideColor>true</OverrideColor>
       <MeshColor>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColor>
       <Alpha>1</Alpha>
       <MeshColorMultipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </MeshColorMultipliers>
       <MeshColorOffsets>
       </MeshColorOffsets>
       <Direct3DColorRange>true</Direct3DColorRange>
       <SpecularColor>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </SpecularColor>
       <EmissiveColor>
       </EmissiveColor>
       <ShininessPower>
        <Value>15</Value>
       </ShininessPower>
       <OverrideQuality>false</OverrideQuality>
       <Texture>
        <Filename><![CDATA[Patterns\CubeDarker.bmp]]>
</Filename>
        <WrapStyle>0</WrapStyle>
        <YWrap>
         <Y>
     <Value>1</Value>
         </Y>
        </YWrap>
        <ZWrap>
         <Z>
     <Value>1</Value>
         </Z>
        </ZWrap>
        <XOrigin>
         <Value>0.5</Value>
        </XOrigin>
        <YOrigin>
         <Value>0.5</Value>
        </YOrigin>
       </Texture>
       <ShowReferenceFrame>false</ShowReferenceFrame>
       <Name>Cylinder</Name>
       <Position>
        <X>
         <Value>0.25</Value>
        </X>
       </Position>
       <Orientation>
        <Angles>
         <Y>
     <Value>1.5708</Value>
         </Y>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
       </Childs>
      </Cylinder>
     </Childs>
         </Frame>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.02</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.02</Value>
      </X>
      <Z>
       <Value>-0.05</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>false</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.01</Value>
      </X>
      <Y>
       <Value>0.03</Value>
      </Y>
      <Z>
       <Value>0.12</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cube</Name>
     <Position>
      <X>
       <Value>0.33</Value>
      </X>
      <Y>
       <Value>0.005</Value>
      </Y>
      <Z>
       <Value>-0.03</Value>
      </Z>
     </Position>
     <Orientation>
      <Angles>
      </Angles>
      <OrientationType>Bryant</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Background</Name>
      <Position>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
       <Square>
        <CornerInOrigin>false</CornerInOrigin>
        <XLength>1</XLength>
        <YLength>1</YLength>
        <BothSides>true</BothSides>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>1.5</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>0</Value>
         </X>
         <Y>
     <Value>0.250980392156863</Value>
         </Y>
         <Z>
     <Value>0.501960784313725</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Square</Name>
        <Position>
         <X>
     <Value>0.175</Value>
         </X>
         <Y>
     <Value>0.25</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Square>
       <Cube>
        <Center>Bottom</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.009</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>0.02</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Cube</Name>
        <Position>
         <X>
     <Value>0.33</Value>
         </X>
         <Y>
     <Value>0.1</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Bottom</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.01</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>0.02</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Cube</Name>
        <Position>
         <X>
     <Value>0.02</Value>
         </X>
         <Y>
     <Value>0.1</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.009</Value>
         </X>
         <Y>
     <Value>0.21</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>InputTrayRight</Name>
        <Position>
         <X>
     <Value>0.325</Value>
         </X>
         <Y>
     <Value>-0.22</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.01</Value>
         </X>
         <Y>
     <Value>0.21</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>InputTrayLeft</Name>
        <Position>
         <X>
     <Value>0.015</Value>
         </X>
         <Y>
     <Value>-0.22</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.31</Value>
         </X>
         <Y>
     <Value>0.01</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>InputTrayBack</Name>
        <Position>
         <X>
     <Value>0.02</Value>
         </X>
         <Y>
     <Value>-0.22</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.31</Value>
         </X>
         <Y>
     <Value>0.21</Value>
         </Y>
         <Z>
     <Value>0.005</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>InputTrayBottom</Name>
        <Position>
         <X>
     <Value>0.02</Value>
         </X>
         <Y>
     <Value>-0.22</Value>
         </Y>
         <Z>
     <Value>0.015</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.009</Value>
         </X>
         <Y>
     <Value>0.21</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>OutputTrayRight</Name>
        <Position>
         <X>
     <Value>0.325</Value>
         </X>
         <Y>
     <Value>0.547</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.01</Value>
         </X>
         <Y>
     <Value>0.21</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>OutputTrayLeft</Name>
        <Position>
         <X>
     <Value>0.015</Value>
         </X>
         <Y>
     <VariableName>PlantModel\Animation\FinisherSidePosition</VariableName>
     <Value>0.537</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
       <Cube>
        <Center>Corner</Center>
        <RibLength>1</RibLength>
        <ShowInnerSide>false</ShowInnerSide>
        <Accuracy>4</Accuracy>
        <ScaleValue>
         <X>
     <Value>0.32</Value>
         </X>
         <Y>
     <Value>0.01</Value>
         </Y>
         <Z>
     <Value>0.1</Value>
         </Z>
        </ScaleValue>
        <OverrideColor>true</OverrideColor>
        <MeshColor>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColor>
        <Alpha>1</Alpha>
        <MeshColorMultipliers>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </MeshColorMultipliers>
        <MeshColorOffsets>
        </MeshColorOffsets>
        <Direct3DColorRange>true</Direct3DColorRange>
        <SpecularColor>
         <X>
     <Value>0.5</Value>
         </X>
         <Y>
     <Value>0.5</Value>
         </Y>
         <Z>
     <Value>0.5</Value>
         </Z>
        </SpecularColor>
        <EmissiveColor>
        </EmissiveColor>
        <ShininessPower>
         <Value>15</Value>
        </ShininessPower>
        <OverrideQuality>false</OverrideQuality>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>OutputTrayBack</Name>
        <Position>
         <X>
     <Value>0.015</Value>
         </X>
         <Y>
     <VariableName>PlantModel\Animation\FinisherBackPosition</VariableName>
     <Value>0.747</Value>
         </Y>
         <Z>
     <Value>-0.05</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Cube>
      </Childs>
     </Frame>
         </Childs>
        </Frame>
       </Childs>
      </Frame>
     </MainFrame>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <UseWindowsBGColor>false</UseWindowsBGColor>
       <BGColor>16777215</BGColor>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>paper path Setup</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>false</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>-2.5</Minimum>
       <Maximum>12.5</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>SheetPosition[1]</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Sheet.v[1]</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>PaperDetectors[1]</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>PaperDetectors[2]</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>PaperDetectors[3]</Label>
      </Axis>
      <Axis>
       <Minimum>-0.5</Minimum>
       <Maximum>0.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>PaperDetectors[4]</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\SheetIntelligence\SheetPosition[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16763904</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16763904</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\SheetIntelligence\Sheet.v[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>65280</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>65280</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>0</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\PaperDetectors[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>0</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>0</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>0</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\PaperDetectors[2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>26367</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>26367</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>0</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\PaperDetectors[3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>3368448</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>3368448</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>10</PixelThresshold>
       <LineThickness>2</LineThickness>
       <LineOrder>0</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>PlantModel\PaperDetectors[4]</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
     <StripChartPlots>
      <DistributState>2</DistributState>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
     </StripChartPlots>
    </Plot>
   </Plots>
   <WindowRectangles virtualDesktopWidth="3200" virtualDesktopHeight="1080">
     <WindowRectangle monitor="0" left="0" top="0" right="1920" bottom="1080">
0.173437 0.489815 0.558333 0.822222
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1920" bottom="1080">
0.0520833 0.0666667 0.5625 0.415741
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1920" bottom="1080">
0.301042 0.0231481 0.907292 0.777778
     </WindowRectangle>
   </WindowRectangles>
  </PlotSpecs>
  <RunSpecs>
   <SimulatorSettings>
    <StartTime>0</StartTime>
    <FinishTime>30</FinishTime>
    <Warp>true</Warp>
    <UseOutputAfterEach>true</UseOutputAfterEach>
    <OutputAfterEach>0.001</OutputAfterEach>
    <EventEpsilon>1e-006</EventEpsilon>
    <AlgebraicTolerance>1e-007</AlgebraicTolerance>
    <SteadyStateAnalysis>false</SteadyStateAnalysis>
    <UpdateHoldInstructions>false</UpdateHoldInstructions>
    <DiscreteSystems>
     <DiscreteSystem>
      <DiscreteID>IO\Sample\output</DiscreteID>
      <TimeInterval>1</TimeInterval>
      <InitialSampleTimeDelay>0</InitialSampleTimeDelay>
      <FixedSampleTimeDelay>0</FixedSampleTimeDelay>
      <VariableTimeDelayMin>0</VariableTimeDelayMin>
      <VariableTimeDelayMax>0</VariableTimeDelayMax>
      <VariableTimeDelayMean>0</VariableTimeDelayMean>
      <VariableTimeDelayDeviation>0</VariableTimeDelayDeviation>
      <UseVariableTimeDelay>false</UseVariableTimeDelay>
      <UniformVariableTimeDelay>false</UniformVariableTimeDelay>
      <UseGlobalTime>true</UseGlobalTime>
      <HoldTimeDelay>0</HoldTimeDelay>
      <ActionOnSampleMissed>0</ActionOnSampleMissed>
     </DiscreteSystem>
    </DiscreteSystems>
   </SimulatorSettings>
   <IntegrationMethods>
    <IntegrationMethod>
     <Name>Euler</Name>
     <StepSize>0.0001</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BackwardEuler</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <StepSize>0.01</StepSize>
     <Alpha>1</Alpha>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>AdamsBashforth</Name>
     <StepSize>0.01</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta2</Name>
     <StepSize>0.01</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta4</Name>
     <StepSize>0.0001</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta8</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
     <SafetyFactor>0.9</SafetyFactor>
     <Factor1>0.33</Factor1>
     <Factor2>6</Factor2>
     <Beta>0</Beta>
     <UseMaxNrSteps>false</UseMaxNrSteps>
     <MaxNrSteps>100000</MaxNrSteps>
     <UseStiffDetection>false</UseStiffDetection>
     <MaxNrStiffnessSteps>1000</MaxNrStiffnessSteps>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKuttaFehlberg</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>VodeAdams</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BDFMethod</Name>
     <AbsoluteTolerance>0.001</AbsoluteTolerance>
     <RelativeTolerance>0.001</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>0.001</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>0.001</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>MeBDFiMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <SelectedIntegrationMethod>0</SelectedIntegrationMethod>
   </IntegrationMethods>
  </RunSpecs>
  <MultipleRun>
   <NrSteps>10</NrSteps>
   <CopyFromStates>false</CopyFromStates>
   <JoinParameterVariation>true</JoinParameterVariation>
   <ClearAfterRun>false</ClearAfterRun>
   <RedrawAfterRun>false</RedrawAfterRun>
   <DrawDuringSimulation>true</DrawDuringSimulation>
   <ActionBeforeOptimization>0</ActionBeforeOptimization>
   <CompareValue>0</CompareValue>
   <UseCompareValue>true</UseCompareValue>
   <MultipleRunType>MultipleRun</MultipleRunType>
   <Minimize>true</Minimize>
   <OptimizationVariable></OptimizationVariable>
   <ResulVarUsage>UseEndValue</ResulVarUsage>
   <Tolerance>0.001</Tolerance>
   <OptimizationMethod>BroydonFletcherGoldfarbShanno</OptimizationMethod>
   <MultipleRunVariables>
   </MultipleRunVariables>
  </MultipleRun>
  <ExportData>
   <WriteAsText>true</WriteAsText>
   <ReadAsText>true</ReadAsText>
   <WriteHeader>false</WriteHeader>
   <ReadHeader>true</ReadHeader>
   <ReadFilename><![CDATA[PaperPathSetupModelandControl.n]]>
</ReadFilename>
   <WriteFilename><![CDATA[D:\Temp\SpeedCheck\PD_sim.n]]>
</WriteFilename>
   <DoWrite>false</DoWrite>
   <ExportVariables>
   </ExportVariables>
   <ImportVariables>
   </ImportVariables>
  </ExportData>
  <BreakPoints>
  </BreakPoints>
  <AnimationPlayback>
   <PlaybackSpeed>1</PlaybackSpeed>
  </AnimationPlayback>
</ExpData>
  </Experiment>
</Experiments>
</Document>
